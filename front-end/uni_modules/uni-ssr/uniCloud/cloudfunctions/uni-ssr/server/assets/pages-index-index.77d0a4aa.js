import{createIntersectionObserver as e,View as t,$emit as s,Text as l,navigateTo as i,$on as a,showToast as n,createSelectorQuery as o,Swiper as r,SwiperItem as u,$off as c,ScrollView as d,getStorageSync as m,setStorageSync as p,Image as _,Video as f,stopPullDownRefresh as v,getSystemInfo as h}from"@dcloudio/uni-h5";import{d as g,m as x,a as y,b as C}from"../entry-server.mjs";import{mergeProps as k,withCtx as R,renderSlot as b,createVNode as w,useSSRContext as I,ref as S,onMounted as $,resolveDynamicComponent as T,unref as N,createTextVNode as z,toDisplayString as j,openBlock as L,createBlock as W,Fragment as O,renderList as F,getCurrentInstance as P,onUnmounted as D,createCommentVNode as H,computed as q,withDirectives as E,vShow as A}from"vue";import{s as B}from"./index.9f92f74a.js";import{_ as M}from"./_plugin-vue_export-helper.1b428a4d.js";import{resolveEasycom as U,onPullDownRefresh as J,onLoad as X}from"@dcloudio/uni-app";import{_ as Y}from"./u-navbar.e81d47bb.js";import{_ as Z}from"./u-search.0c70a0ed.js";import{_ as V}from"./u-image.2535d66a.js";import{s as G}from"./request.5320184e.js";import{g as K,a as Q}from"./card.5b499d63.js";import{s as ee,C as te}from"./Card.20224e85.js";import{_ as se}from"./uni-icons.4543db02.js";import{u as le}from"./userStore.f2e6b8e0.js";import{_ as ie}from"./u-icon.ab49d795.js";import{g as ae}from"./post.1ababa6e.js";import"@dcloudio/uni-cloud";import"vue-demi";import"@vue/server-renderer";import"@dcloudio/uni-shared";import"@vue/shared";import"stream";import"./u-status-bar.feed2c4e.js";import"./u-loading-icon.535cfcc8.js";import"./u-transition.e7c98e8b.js";import"axios";import"axios-miniprogram-adapter";const ne={name:"u-sticky",mixins:[x,y,{props:{offsetTop:{type:[String,Number],default:g.sticky.offsetTop},customNavHeight:{type:[String,Number],default:44},disabled:{type:Boolean,default:g.sticky.disabled},bgColor:{type:String,default:g.sticky.bgColor},zIndex:{type:[String,Number],default:g.sticky.zIndex},index:{type:[String,Number],default:g.sticky.index}}}],data:()=>({cssSticky:!1,stickyTop:0,elId:uni.$u.guid(),left:0,width:"auto",height:"auto",fixed:!1}),computed:{style(){const e={};return this.disabled?e.position="static":this.cssSticky?(e.position="sticky",e.zIndex=this.uZindex,e.top=uni.$u.addUnit(this.stickyTop)):e.height=this.fixed?this.height+"px":"auto",e.backgroundColor=this.bgColor,uni.$u.deepMerge(uni.$u.addStyle(this.customStyle),e)},stickyContent(){const e={};return this.cssSticky||(e.position=this.fixed?"fixed":"static",e.top=this.stickyTop+"px",e.left=this.left+"px",e.width="auto"==this.width?"auto":this.width+"px",e.zIndex=this.uZindex),e},uZindex(){return this.zIndex?this.zIndex:uni.$u.zIndex.sticky}},mounted(){this.init()},methods:{init(){this.getStickyTop(),this.checkSupportCssSticky(),this.cssSticky||!this.disabled&&this.initObserveContent()},initObserveContent(){this.$uGetRect("#"+this.elId).then((e=>{this.height=e.height,this.left=e.left,this.width=e.width,this.$nextTick((()=>{this.observeContent()}))}))},observeContent(){this.disconnectObserver("contentObserver");const t=e({thresholds:[.95,.98,1]});t.relativeToViewport({top:-this.stickyTop}),t.observe(`#${this.elId}`,(e=>{this.setFixed(e.boundingClientRect.top)})),this.contentObserver=t},setFixed(e){const t=e<=this.stickyTop;this.fixed=t},disconnectObserver(e){const t=this[e];t&&t.disconnect()},getStickyTop(){this.stickyTop=uni.$u.getPx(this.offsetTop)+uni.$u.getPx(this.customNavHeight)},async checkSupportCssSticky(){this.checkCssStickyForH5()&&(this.cssSticky=!0),"android"===uni.$u.os()&&Number(uni.$u.sys().system)>8&&(this.cssSticky=!0),"ios"===uni.$u.os()&&(this.cssSticky=!0)},checkComputedStyle(){},checkCssStickyForH5(){const e=["","-webkit-","-ms-","-moz-","-o-"],t=e.length,s=document.createElement("div");for(let l=0;l<t;l++)if(s.style.position=e[l]+"sticky",""!==s.style.position)return!0;return!1}},beforeUnmount(){this.disconnectObserver("contentObserver")}};const oe=ne.setup;ne.setup=(e,t)=>{const s=I();return(s.modules||(s.modules=new Set)).add("uni_modules/uview-plus/components/u-sticky/u-sticky.vue"),oe?oe(e,t):void 0};const re=M(ne,[["ssrRender",function(e,s,l,i,a,n,o,r){const u=t;s(B.ssrRenderComponent(u,k({class:"u-sticky",id:o.elId,style:[r.style]},i),{default:R(((t,s,l,i)=>{if(!s)return[w(u,{style:[r.stickyContent],class:"u-sticky__content"},{default:R((()=>[b(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])];s(B.ssrRenderComponent(u,{style:[r.stickyContent],class:"u-sticky__content"},{default:R(((t,s,l,i)=>{if(!s)return[b(e.$slots,"default",{},void 0,!0)];B.ssrRenderSlot(e.$slots,"default",{},null,s,l,i)})),_:3},l,i))})),_:3},l))}],["__scopeId","data-v-9d6ec116"]]);C("counter",{state:()=>({count:0}),getters:{},actions:{increment(){this.count++}}});const ue={__name:"NavWarp",__ssrInlineRender:!0,setup(e){const i=S([{text:"首页"},{text:"社区 "}]);let a=S(0),n=S(0);const o=e=>{a.value=e,s("change-page",0===e)};return $((()=>{})),(e,s,r,u)=>{const c=U(T("u-navbar"),Y),d=t,m=l;s(B.ssrRenderComponent(c,u,{left:R(((e,t,s,l)=>{if(!t)return[w(d,{class:"nav-warp",style:{marginTop:N(n)+"rpx"}},{default:R((()=>[w(d,{class:"nav-warp-itemss"},{default:R((()=>[(L(!0),W(O,null,F(i.value,((e,t)=>(L(),W(d,{class:["nav-item",{active:t==N(a)}],onClick:e=>o(t)},{default:R((()=>[w(m,null,{default:R((()=>[z(j(e.text),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),256))])),_:1})])),_:1},8,["style"])];t(B.ssrRenderComponent(d,{class:"nav-warp",style:{marginTop:N(n)+"rpx"}},{default:R(((e,t,s,l)=>{if(!t)return[w(d,{class:"nav-warp-itemss"},{default:R((()=>[(L(!0),W(O,null,F(i.value,((e,t)=>(L(),W(d,{class:["nav-item",{active:t==N(a)}],onClick:e=>o(t)},{default:R((()=>[w(m,null,{default:R((()=>[z(j(e.text),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),256))])),_:1})];t(B.ssrRenderComponent(d,{class:"nav-warp-itemss"},{default:R(((e,t,s,l)=>{if(!t)return[(L(!0),W(O,null,F(i.value,((e,t)=>(L(),W(d,{class:["nav-item",{active:t==N(a)}],onClick:e=>o(t)},{default:R((()=>[w(m,null,{default:R((()=>[z(j(e.text),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),256))];t("\x3c!--[--\x3e"),B.ssrRenderList(i.value,((e,i)=>{t(B.ssrRenderComponent(d,{class:["nav-item",{active:i==N(a)}],onClick:e=>o(i)},{default:R(((t,s,l,i)=>{if(!s)return[w(m,null,{default:R((()=>[z(j(e.text),1)])),_:2},1024)];s(B.ssrRenderComponent(m,null,{default:R(((t,s,l,i)=>{if(!s)return[z(j(e.text),1)];s(`${B.ssrInterpolate(e.text)}`)})),_:2},l,i))})),_:2},s,l))})),t("\x3c!--]--\x3e")})),_:1},s,l))})),_:1},s,l))})),_:1},r))}}},ce=ue.setup;ue.setup=(e,t)=>{const s=I();return(s.modules||(s.modules=new Set)).add("components/NavWarp/NavWarp.vue"),ce?ce(e,t):void 0};const de=M(ue,[["__scopeId","data-v-d1b2a9b0"]]),me={__name:"SearchWarp",__ssrInlineRender:!0,setup(e){const s=S({display:"none"}),l=()=>{i({url:"/pages/search/search"})};return(e,i,a,n)=>{const o=t,r=U(T("u-search"),Z);i(B.ssrRenderComponent(o,k({class:"search-warp"},n),{default:R(((e,t,i,a)=>{if(!t)return[w(o,{class:"search-box"},{default:R((()=>[w(r,{placeholder:"点击搜索",shape:"square",clearabled:!0,disabled:"",actionText:"",actionStyle:s.value,onClick:l},null,8,["actionStyle"])])),_:1})];t(B.ssrRenderComponent(o,{class:"search-box"},{default:R(((e,t,i,a)=>{if(!t)return[w(r,{placeholder:"点击搜索",shape:"square",clearabled:!0,disabled:"",actionText:"",actionStyle:s.value,onClick:l},null,8,["actionStyle"])];t(B.ssrRenderComponent(r,{placeholder:"点击搜索",shape:"square",clearabled:!0,disabled:"",actionText:"",actionStyle:s.value,onClick:l},null,i,a))})),_:1},i,a))})),_:1},a))}}},pe=me.setup;me.setup=(e,t)=>{const s=I();return(s.modules||(s.modules=new Set)).add("components/SearchWarp/SearchWarp.vue"),pe?pe(e,t):void 0};const _e=M(me,[["__scopeId","data-v-d3c7543a"]]);const fe={__name:"CarouselWarp",__ssrInlineRender:!0,setup(e){const s=S([]),l=S([]),a=e=>{const t=l.value[e].cardId;i({url:`/pages/card-info/card-info?id=${t}`})};return $((()=>{G.get("/getAllCarousels").then((e=>{l.value=e.data.data,l.value.forEach((e=>{const t={image:e.images[0].imageUrl,title:e.title};s.value.push(t)}))}))})),(e,l,i,n)=>{const o=t,r=U(T("u-swiper"),V);l(B.ssrRenderComponent(o,k({class:"carousel-warp"},n),{default:R(((e,t,l,i)=>{if(!t)return[w(o,{class:"carousel-box"},{default:R((()=>[w(r,{list:s.value,showTitle:"",keyName:"image",onClick:a,indicator:"",indicatorMode:"line",circular:"",height:"300rpx"},null,8,["list"])])),_:1})];t(B.ssrRenderComponent(o,{class:"carousel-box"},{default:R(((e,t,l,i)=>{if(!t)return[w(r,{list:s.value,showTitle:"",keyName:"image",onClick:a,indicator:"",indicatorMode:"line",circular:"",height:"300rpx"},null,8,["list"])];t(B.ssrRenderComponent(r,{list:s.value,showTitle:"",keyName:"image",onClick:a,indicator:"",indicatorMode:"line",circular:"",height:"300rpx"},null,l,i))})),_:1},l,i))})),_:1},i))}}},ve=fe.setup;fe.setup=(e,t)=>{const s=I();return(s.modules||(s.modules=new Set)).add("components/CarouselWarp/CarouselWarp.vue"),ve?ve(e,t):void 0};const he=M(fe,[["__scopeId","data-v-8f5486e9"]]),ge={__name:"CardWarp",__ssrInlineRender:!0,setup(l){const c=S([]),d=S([]),m=S([]),p=S(1e3);ee().getSystemNav;const _=S(!1);let f=P();function v(){d.value=[],m.value=[],c.value.forEach(((e,t)=>{t%2==0?d.value.push(e):m.value.push(e)}))}const h=e=>{"推荐"!=e&&(_.value=!0,Q(e).then((e=>{200==e.data.code?(n({title:"获取成功",icon:"none"}),c.value=e.data.cardList,c.value=x(c.value),v(),setTimeout((()=>{C()}))):n({title:`${e.data.error}`,icon:"none"})})).finally((()=>{_.value=!1})))},g=()=>{K().then((e=>{c.value=[...c.value,...e.data],c.value=x(c.value),v(),setTimeout((()=>{C()}))}))},x=e=>(e.forEach((e=>{e.images&&e.images.length>0&&(e.images=e.images.map((e=>`${e}?imageMogr2/auto-orient/thumbnail/!30p/interlace/1/blur/1x0/quality/75`)))})),e),y=e=>{i({url:`/pages/card-info/card-info?id=${e}`})},C=()=>{o().in(f).select(".card-warp").boundingClientRect((e=>{let t=JSON.parse(JSON.stringify(e));p.value=t.height})).exec()},b=e=>{const t=e.detail.current;s("changeNav",t)};return $((async()=>{s("showLodding"),a("changeCardDatas",h),await(async()=>{await K().then((e=>{c.value=e.data,c.value=x(c.value)}))})(),v(),setTimeout((()=>{C(),s("closeLodding"),(()=>{const t=e(f,{thresholds:[.9]});t.relativeToViewport({bottom:20}),t.observe(".load__more",(e=>{e.intersectionRatio>0&&g()}))})()}))})),(e,s,l,i)=>{const a=r,n=u,o=t;s(B.ssrRenderComponent(a,k({style:{height:p.value+150+"px"},onChange:b},i),{default:R(((e,t,s,l)=>{if(!t)return[w(n,null,{default:R((()=>[w(o,{class:"card-warp"},{default:R((()=>[w("div",{class:"card-left"},[(L(!0),W(O,null,F(d.value,((e,t)=>(L(),W(te,{key:e.id,cardInfo:e,onClick:t=>y(e._id)},null,8,["cardInfo","onClick"])))),128))]),w("div",{class:"card-right"},[(L(!0),W(O,null,F(m.value,((e,t)=>(L(),W(te,{key:e.id,cardInfo:e,onClick:t=>y(e._id)},null,8,["cardInfo","onClick"])))),128))])])),_:1}),w(o,{class:"load__more"},{default:R((()=>[z("加载更多")])),_:1})])),_:1})];t(B.ssrRenderComponent(n,null,{default:R(((e,t,s,l)=>{if(!t)return[w(o,{class:"card-warp"},{default:R((()=>[w("div",{class:"card-left"},[(L(!0),W(O,null,F(d.value,((e,t)=>(L(),W(te,{key:e.id,cardInfo:e,onClick:t=>y(e._id)},null,8,["cardInfo","onClick"])))),128))]),w("div",{class:"card-right"},[(L(!0),W(O,null,F(m.value,((e,t)=>(L(),W(te,{key:e.id,cardInfo:e,onClick:t=>y(e._id)},null,8,["cardInfo","onClick"])))),128))])])),_:1}),w(o,{class:"load__more"},{default:R((()=>[z("加载更多")])),_:1})];t(B.ssrRenderComponent(o,{class:"card-warp"},{default:R(((e,t,s,l)=>{if(!t)return[w("div",{class:"card-left"},[(L(!0),W(O,null,F(d.value,((e,t)=>(L(),W(te,{key:e.id,cardInfo:e,onClick:t=>y(e._id)},null,8,["cardInfo","onClick"])))),128))]),w("div",{class:"card-right"},[(L(!0),W(O,null,F(m.value,((e,t)=>(L(),W(te,{key:e.id,cardInfo:e,onClick:t=>y(e._id)},null,8,["cardInfo","onClick"])))),128))])];t(`<div class="card-left" data-v-242dd367${l}>\x3c!--[--\x3e`),B.ssrRenderList(d.value,((e,i)=>{t(B.ssrRenderComponent(te,{key:e.id,cardInfo:e,onClick:t=>y(e._id)},null,s,l))})),t(`\x3c!--]--\x3e</div><div class="card-right" data-v-242dd367${l}>\x3c!--[--\x3e`),B.ssrRenderList(m.value,((e,i)=>{t(B.ssrRenderComponent(te,{key:e.id,cardInfo:e,onClick:t=>y(e._id)},null,s,l))})),t("\x3c!--]--\x3e</div>")})),_:1},s,l)),t(B.ssrRenderComponent(o,{class:"load__more"},{default:R(((e,t,s,l)=>{if(!t)return[z("加载更多")];t("加载更多")})),_:1},s,l))})),_:1},s,l))})),_:1},l))}}},xe=ge.setup;ge.setup=(e,t)=>{const s=I();return(s.modules||(s.modules=new Set)).add("components/CardWarp/CardWarp.vue"),xe?xe(e,t):void 0};const ye=M(ge,[["__scopeId","data-v-242dd367"]]);const Ce={__name:"NavBar",__ssrInlineRender:!0,setup(e){const l=S([]),i=S(!1),n=ee(),o=e=>{const t=l.value[e].name;l.value.forEach(((t,s)=>{t.isSelect=s===e})),s("changeCardDatas",t)},r=async()=>{const e=await G.get("/getNav"),{navData:t}=e.data;l.value=(e=>e.map((e=>({...e,isSelect:!1}))))(t),n.setNavBar(l.value),o(0)},u=()=>{i.value=!0},m=()=>{i.value=!1};return $((async()=>{await r(),a("stickyNav",(()=>{u()})),a("noStickyNav",(()=>{m()})),a("changeNav",(e=>{o(e)}))})),D((()=>{c("stickyNav",u),c("noStickyNav",m),c("changeNav",o)})),(e,s,a,n)=>{const r=d,u=t;s(B.ssrRenderComponent(r,k({class:["scroll-view_H",{"sticky-nav":i.value}],"scroll-with-animation":"","scroll-x":"true","scroll-left":"120"},n),{default:R(((e,t,s,i)=>{if(!t)return[(L(!0),W(O,null,F(l.value,((e,t)=>(L(),W(u,{class:["scroll-view-item_H",{active:e.isSelect}],onClick:e=>o(t)},{default:R((()=>[z(j(e.name),1)])),_:2},1032,["class","onClick"])))),256))];t("\x3c!--[--\x3e"),B.ssrRenderList(l.value,((e,l)=>{t(B.ssrRenderComponent(u,{class:["scroll-view-item_H",{active:e.isSelect}],onClick:e=>o(l)},{default:R(((t,s,l,i)=>{if(!s)return[z(j(e.name),1)];s(`${B.ssrInterpolate(e.name)}`)})),_:2},s,i))})),t("\x3c!--]--\x3e")})),_:1},a))}}},ke=Ce.setup;Ce.setup=(e,t)=>{const s=I();return(s.modules||(s.modules=new Set)).add("components/NavBar/NavBar.vue"),ke?ke(e,t):void 0};const Re=M(Ce,[["__scopeId","data-v-3c0d54d7"]]),be={__name:"drag",__ssrInlineRender:!0,setup(e){const s=S(100),l=S(15),a=S(0),o=S(0),r=le(),u=S(!1);function c(e){u.value=!0;const t=e.changedTouches[0];a.value=t.pageX,o.value=t.pageY}function d(e){u.value=!0;const t=e.changedTouches[0],i=t.pageX-a.value,n=t.pageY-o.value;a.value=t.pageX,o.value=t.pageY,l.value-=i,s.value-=n,p("xy",{right:l.value,bottom:s.value})}function _(e){e.changedTouches[0],u.value=!1}function f(){r.getUserData?i({url:"/pages/post-page/post-page"}):(n({title:"未登录，请先登录 ",icon:"error"}),i({url:"/pages/login/login"}))}return $((()=>{const e=m("xy");e&&(s.value=e.bottom,l.value=e.right)})),(e,i,a,n)=>{const o=t,r=U(T("uni-icons"),se);i(B.ssrRenderComponent(o,k({class:"scan-fixed",style:{bottom:s.value+"px",right:l.value+"px"},onTouchstart:c,onTouchmove:d,onTouchend:_,onClick:f},n),{default:R(((e,t,s,l)=>{if(!t)return[u.value?(L(),W(o,{key:0,class:"masks"})):H("",!0),w(o,{class:"icon"},{default:R((()=>[w(r,{type:"plusempty",size:"30"})])),_:1})];u.value?t(B.ssrRenderComponent(o,{class:"masks"},null,s,l)):t("\x3c!----\x3e"),t(B.ssrRenderComponent(o,{class:"icon"},{default:R(((e,t,s,l)=>{if(!t)return[w(r,{type:"plusempty",size:"30"})];t(B.ssrRenderComponent(r,{type:"plusempty",size:"30"},null,s,l))})),_:1},s,l))})),_:1},a))}}},we=be.setup;be.setup=(e,t)=>{const s=I();return(s.modules||(s.modules=new Set)).add("components/drag/drag.vue"),we?we(e,t):void 0};const Ie=M(be,[["__scopeId","data-v-d5d4b0bb"]]),Se={__name:"PostPageTopSwiper",__ssrInlineRender:!0,setup(e){const s=S([{name:"python"},{name:"android"},{name:"vim"},{name:"cpp"},{name:"django"},{name:"go"},{name:"json"},{name:"php"},{name:"powershell"},{name:"sass"}]),l=e=>{i({url:`/pages/posts-page/posts-page?id=${e.name}`})},a=q((()=>{const e=[];for(let t=0;t<s.value.length;t+=8)e.push(s.value.slice(t,t+8));return e}));return(e,s,i,n)=>{const o=r,c=u,d=t;s(B.ssrRenderComponent(o,k({"indicator-dots":""},n),{default:R(((e,t,s,i)=>{if(!t)return[(L(!0),W(O,null,F(a.value,((e,t)=>(L(),W(c,{key:t,class:"swiper-item"},{default:R((()=>[(L(!0),W(O,null,F(e,(e=>(L(),W(d,{key:e.name,class:"icon-wrapper",onClick:t=>l(e)},{default:R((()=>[w(d,{class:["t-icon",`t-icon-${e.name}`,"icon"]},null,8,["class"]),w(d,{class:"icon-name"},{default:R((()=>[z(j(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)))),128))];t("\x3c!--[--\x3e"),B.ssrRenderList(a.value,((e,a)=>{t(B.ssrRenderComponent(c,{key:a,class:"swiper-item"},{default:R(((t,s,i,a)=>{if(!s)return[(L(!0),W(O,null,F(e,(e=>(L(),W(d,{key:e.name,class:"icon-wrapper",onClick:t=>l(e)},{default:R((()=>[w(d,{class:["t-icon",`t-icon-${e.name}`,"icon"]},null,8,["class"]),w(d,{class:"icon-name"},{default:R((()=>[z(j(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))];s("\x3c!--[--\x3e"),B.ssrRenderList(e,(e=>{s(B.ssrRenderComponent(d,{key:e.name,class:"icon-wrapper",onClick:t=>l(e)},{default:R(((t,s,l,i)=>{if(!s)return[w(d,{class:["t-icon",`t-icon-${e.name}`,"icon"]},null,8,["class"]),w(d,{class:"icon-name"},{default:R((()=>[z(j(e.name),1)])),_:2},1024)];s(B.ssrRenderComponent(d,{class:["t-icon",`t-icon-${e.name}`,"icon"]},null,l,i)),s(B.ssrRenderComponent(d,{class:"icon-name"},{default:R(((t,s,l,i)=>{if(!s)return[z(j(e.name),1)];s(`${B.ssrInterpolate(e.name)}`)})),_:2},l,i))})),_:2},i,a))})),s("\x3c!--]--\x3e")})),_:2},s,i))})),t("\x3c!--]--\x3e")})),_:1},i))}}},$e=Se.setup;Se.setup=(e,t)=>{const s=I();return(s.modules||(s.modules=new Set)).add("components/PostPageTopSwiper/PostPageTopSwiper.vue"),$e?$e(e,t):void 0};const Te=M(Se,[["__scopeId","data-v-25c8736c"]]),Ne={};const ze=Ne.setup;Ne.setup=(e,t)=>{const s=I();return(s.modules||(s.modules=new Set)).add("components/Notice/Notice.vue"),ze?ze(e,t):void 0};const je=M(Ne,[["ssrRender",function(e,t,s,l){}]]),Le={__name:"ArticleWarp",__ssrInlineRender:!0,setup(e){le().getUserData;const s=S([]),a=S([]),n=e=>e.length>5?e.substring(0,5)+"...":e,o=e=>{i({url:"/pages/article/article?id="+e})},r=(e,t)=>{e.forEach((e=>{const s={postid:e._id,popular:parseInt(e.like)>10?1:0,sticky:0,featured:0,title:e.title,content:e.summary,img_url:e.images,usertx:e.authorDetails.avatar,nickname:e.authorDetails.username,update_time_ago:"Just now",view:parseInt(e.views)||0,thumbs:parseInt(e.like)||0,comment:e.comments.length||0};t.push(s)}))},u=e=>e=(e=(e=(e=e.replace(/<[^<>]+>/g,"")).replace(/&nbsp;/gi,"")).replace(/<img*>/gi,"")).replace(/<video*>/gi,"");return $((()=>{ae().then((e=>{s.value=e.data,r(s.value,a.value)}))})),(e,s,i,r)=>{const c=t,d=l,m=_,p=f,v=U(T("u-icon"),ie);a.value.length>0?s(B.ssrRenderComponent(c,k({class:"post-list"},r),{default:R(((e,t,s,l)=>{if(!t)return[(L(!0),W(O,null,F(a.value,((e,t)=>(L(),W(c,{class:"post-list__item",key:t,onClick:t=>o(e.postid)},{default:R((()=>[w(c,{class:"post-list__item-status"},{default:R((()=>[1==e.popular?(L(),W(d,{key:0,class:"post-list__item-status-text"},{default:R((()=>[z("热")])),_:1})):H("",!0),1==e.sticky?(L(),W(d,{key:1,class:"post-list__item-status-text"},{default:R((()=>[z("顶")])),_:1})):H("",!0),1==e.featured?(L(),W(d,{key:2,class:"post-list__item-status-text"},{default:R((()=>[z("精")])),_:1})):H("",!0),w(c,{class:"post-list__item-title"},{default:R((()=>[z(j(e.title),1)])),_:2},1024)])),_:2},1024),w(c,{class:"post-list__item-content"},{default:R((()=>[z(j(u(e.content)),1)])),_:2},1024),e.img_url.length>0?(L(),W(c,{key:0,class:"post-list__item-img"},{default:R((()=>[(L(!0),W(O,null,F(e.img_url.slice(0,3),((e,t)=>(L(),W(m,{key:t,src:e,class:"post-list__item-img-item",mode:"aspectFill"},null,8,["src"])))),128))])),_:2},1024)):H("",!0),e.video_url?(L(),W(c,{key:1,class:"post-list__item-video"},{default:R((()=>[w(p,{src:e.video_url,class:"post-list__item-video-item",controls:""},null,8,["src"])])),_:2},1024)):H("",!0),w(c,{class:"post-list__item-user"},{default:R((()=>[w(c,{class:"post-list__item-user-left"},{default:R((()=>[w(m,{src:e.usertx,class:"post-list__item-user-avatar"},null,8,["src"]),w(c,{class:"post-list__item-user-name"},{default:R((()=>[z(j(n(e.nickname))+" ",1),w(d,{style:{"margin-left":"20upx"}},{default:R((()=>[z(j(e.update_time_ago),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),w(c,{class:"post-list__item-user-right"},{default:R((()=>[w(c,{class:"post-list__item-user-right-item"},{default:R((()=>[w(v,{name:"eye-fill",color:"#666",size:"15"}),w(d,{class:"iconfont iconyanjing"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.view),1)])),_:2},1024)])),_:2},1024),w(c,{class:"post-list__item-user-right-item"},{default:R((()=>[w(v,{name:"thumb-up-fill",color:"#666",size:"15"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.thumbs),1)])),_:2},1024)])),_:2},1024),w(c,{class:"post-list__item-user-right-item"},{default:R((()=>[w(v,{name:"more-circle-fill",color:"#666",size:"15"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.comment),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))];t("\x3c!--[--\x3e"),B.ssrRenderList(a.value,((e,i)=>{t(B.ssrRenderComponent(c,{class:"post-list__item",key:i,onClick:t=>o(e.postid)},{default:R(((t,s,l,i)=>{if(!s)return[w(c,{class:"post-list__item-status"},{default:R((()=>[1==e.popular?(L(),W(d,{key:0,class:"post-list__item-status-text"},{default:R((()=>[z("热")])),_:1})):H("",!0),1==e.sticky?(L(),W(d,{key:1,class:"post-list__item-status-text"},{default:R((()=>[z("顶")])),_:1})):H("",!0),1==e.featured?(L(),W(d,{key:2,class:"post-list__item-status-text"},{default:R((()=>[z("精")])),_:1})):H("",!0),w(c,{class:"post-list__item-title"},{default:R((()=>[z(j(e.title),1)])),_:2},1024)])),_:2},1024),w(c,{class:"post-list__item-content"},{default:R((()=>[z(j(u(e.content)),1)])),_:2},1024),e.img_url.length>0?(L(),W(c,{key:0,class:"post-list__item-img"},{default:R((()=>[(L(!0),W(O,null,F(e.img_url.slice(0,3),((e,t)=>(L(),W(m,{key:t,src:e,class:"post-list__item-img-item",mode:"aspectFill"},null,8,["src"])))),128))])),_:2},1024)):H("",!0),e.video_url?(L(),W(c,{key:1,class:"post-list__item-video"},{default:R((()=>[w(p,{src:e.video_url,class:"post-list__item-video-item",controls:""},null,8,["src"])])),_:2},1024)):H("",!0),w(c,{class:"post-list__item-user"},{default:R((()=>[w(c,{class:"post-list__item-user-left"},{default:R((()=>[w(m,{src:e.usertx,class:"post-list__item-user-avatar"},null,8,["src"]),w(c,{class:"post-list__item-user-name"},{default:R((()=>[z(j(n(e.nickname))+" ",1),w(d,{style:{"margin-left":"20upx"}},{default:R((()=>[z(j(e.update_time_ago),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),w(c,{class:"post-list__item-user-right"},{default:R((()=>[w(c,{class:"post-list__item-user-right-item"},{default:R((()=>[w(v,{name:"eye-fill",color:"#666",size:"15"}),w(d,{class:"iconfont iconyanjing"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.view),1)])),_:2},1024)])),_:2},1024),w(c,{class:"post-list__item-user-right-item"},{default:R((()=>[w(v,{name:"thumb-up-fill",color:"#666",size:"15"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.thumbs),1)])),_:2},1024)])),_:2},1024),w(c,{class:"post-list__item-user-right-item"},{default:R((()=>[w(v,{name:"more-circle-fill",color:"#666",size:"15"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.comment),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)];s(B.ssrRenderComponent(c,{class:"post-list__item-status"},{default:R(((t,s,l,i)=>{if(!s)return[1==e.popular?(L(),W(d,{key:0,class:"post-list__item-status-text"},{default:R((()=>[z("热")])),_:1})):H("",!0),1==e.sticky?(L(),W(d,{key:1,class:"post-list__item-status-text"},{default:R((()=>[z("顶")])),_:1})):H("",!0),1==e.featured?(L(),W(d,{key:2,class:"post-list__item-status-text"},{default:R((()=>[z("精")])),_:1})):H("",!0),w(c,{class:"post-list__item-title"},{default:R((()=>[z(j(e.title),1)])),_:2},1024)];1==e.popular?s(B.ssrRenderComponent(d,{class:"post-list__item-status-text"},{default:R(((e,t,s,l)=>{if(!t)return[z("热")];t("热")})),_:2},l,i)):s("\x3c!----\x3e"),1==e.sticky?s(B.ssrRenderComponent(d,{class:"post-list__item-status-text"},{default:R(((e,t,s,l)=>{if(!t)return[z("顶")];t("顶")})),_:2},l,i)):s("\x3c!----\x3e"),1==e.featured?s(B.ssrRenderComponent(d,{class:"post-list__item-status-text"},{default:R(((e,t,s,l)=>{if(!t)return[z("精")];t("精")})),_:2},l,i)):s("\x3c!----\x3e"),s(B.ssrRenderComponent(c,{class:"post-list__item-title"},{default:R(((t,s,l,i)=>{if(!s)return[z(j(e.title),1)];s(`${B.ssrInterpolate(e.title)}`)})),_:2},l,i))})),_:2},l,i)),s(B.ssrRenderComponent(c,{class:"post-list__item-content"},{default:R(((t,s,l,i)=>{if(!s)return[z(j(u(e.content)),1)];s(`${B.ssrInterpolate(u(e.content))}`)})),_:2},l,i)),e.img_url.length>0?s(B.ssrRenderComponent(c,{class:"post-list__item-img"},{default:R(((t,s,l,i)=>{if(!s)return[(L(!0),W(O,null,F(e.img_url.slice(0,3),((e,t)=>(L(),W(m,{key:t,src:e,class:"post-list__item-img-item",mode:"aspectFill"},null,8,["src"])))),128))];s("\x3c!--[--\x3e"),B.ssrRenderList(e.img_url.slice(0,3),((e,t)=>{s(B.ssrRenderComponent(m,{key:t,src:e,class:"post-list__item-img-item",mode:"aspectFill"},null,l,i))})),s("\x3c!--]--\x3e")})),_:2},l,i)):s("\x3c!----\x3e"),e.video_url?s(B.ssrRenderComponent(c,{class:"post-list__item-video"},{default:R(((t,s,l,i)=>{if(!s)return[w(p,{src:e.video_url,class:"post-list__item-video-item",controls:""},null,8,["src"])];s(B.ssrRenderComponent(p,{src:e.video_url,class:"post-list__item-video-item",controls:""},null,l,i))})),_:2},l,i)):s("\x3c!----\x3e"),s(B.ssrRenderComponent(c,{class:"post-list__item-user"},{default:R(((t,s,l,i)=>{if(!s)return[w(c,{class:"post-list__item-user-left"},{default:R((()=>[w(m,{src:e.usertx,class:"post-list__item-user-avatar"},null,8,["src"]),w(c,{class:"post-list__item-user-name"},{default:R((()=>[z(j(n(e.nickname))+" ",1),w(d,{style:{"margin-left":"20upx"}},{default:R((()=>[z(j(e.update_time_ago),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),w(c,{class:"post-list__item-user-right"},{default:R((()=>[w(c,{class:"post-list__item-user-right-item"},{default:R((()=>[w(v,{name:"eye-fill",color:"#666",size:"15"}),w(d,{class:"iconfont iconyanjing"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.view),1)])),_:2},1024)])),_:2},1024),w(c,{class:"post-list__item-user-right-item"},{default:R((()=>[w(v,{name:"thumb-up-fill",color:"#666",size:"15"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.thumbs),1)])),_:2},1024)])),_:2},1024),w(c,{class:"post-list__item-user-right-item"},{default:R((()=>[w(v,{name:"more-circle-fill",color:"#666",size:"15"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.comment),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)];s(B.ssrRenderComponent(c,{class:"post-list__item-user-left"},{default:R(((t,s,l,i)=>{if(!s)return[w(m,{src:e.usertx,class:"post-list__item-user-avatar"},null,8,["src"]),w(c,{class:"post-list__item-user-name"},{default:R((()=>[z(j(n(e.nickname))+" ",1),w(d,{style:{"margin-left":"20upx"}},{default:R((()=>[z(j(e.update_time_ago),1)])),_:2},1024)])),_:2},1024)];s(B.ssrRenderComponent(m,{src:e.usertx,class:"post-list__item-user-avatar"},null,l,i)),s(B.ssrRenderComponent(c,{class:"post-list__item-user-name"},{default:R(((t,s,l,i)=>{if(!s)return[z(j(n(e.nickname))+" ",1),w(d,{style:{"margin-left":"20upx"}},{default:R((()=>[z(j(e.update_time_ago),1)])),_:2},1024)];s(`${B.ssrInterpolate(n(e.nickname))} `),s(B.ssrRenderComponent(d,{style:{"margin-left":"20upx"}},{default:R(((t,s,l,i)=>{if(!s)return[z(j(e.update_time_ago),1)];s(`${B.ssrInterpolate(e.update_time_ago)}`)})),_:2},l,i))})),_:2},l,i))})),_:2},l,i)),s(B.ssrRenderComponent(c,{class:"post-list__item-user-right"},{default:R(((t,s,l,i)=>{if(!s)return[w(c,{class:"post-list__item-user-right-item"},{default:R((()=>[w(v,{name:"eye-fill",color:"#666",size:"15"}),w(d,{class:"iconfont iconyanjing"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.view),1)])),_:2},1024)])),_:2},1024),w(c,{class:"post-list__item-user-right-item"},{default:R((()=>[w(v,{name:"thumb-up-fill",color:"#666",size:"15"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.thumbs),1)])),_:2},1024)])),_:2},1024),w(c,{class:"post-list__item-user-right-item"},{default:R((()=>[w(v,{name:"more-circle-fill",color:"#666",size:"15"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.comment),1)])),_:2},1024)])),_:2},1024)];s(B.ssrRenderComponent(c,{class:"post-list__item-user-right-item"},{default:R(((t,s,l,i)=>{if(!s)return[w(v,{name:"eye-fill",color:"#666",size:"15"}),w(d,{class:"iconfont iconyanjing"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.view),1)])),_:2},1024)];s(B.ssrRenderComponent(v,{name:"eye-fill",color:"#666",size:"15"},null,l,i)),s(B.ssrRenderComponent(d,{class:"iconfont iconyanjing"},null,l,i)),s(B.ssrRenderComponent(d,{class:"post-list__item-user-right-item-text"},{default:R(((t,s,l,i)=>{if(!s)return[z(j(e.view),1)];s(`${B.ssrInterpolate(e.view)}`)})),_:2},l,i))})),_:2},l,i)),s(B.ssrRenderComponent(c,{class:"post-list__item-user-right-item"},{default:R(((t,s,l,i)=>{if(!s)return[w(v,{name:"thumb-up-fill",color:"#666",size:"15"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.thumbs),1)])),_:2},1024)];s(B.ssrRenderComponent(v,{name:"thumb-up-fill",color:"#666",size:"15"},null,l,i)),s(B.ssrRenderComponent(d,{class:"post-list__item-user-right-item-text"},{default:R(((t,s,l,i)=>{if(!s)return[z(j(e.thumbs),1)];s(`${B.ssrInterpolate(e.thumbs)}`)})),_:2},l,i))})),_:2},l,i)),s(B.ssrRenderComponent(c,{class:"post-list__item-user-right-item"},{default:R(((t,s,l,i)=>{if(!s)return[w(v,{name:"more-circle-fill",color:"#666",size:"15"}),w(d,{class:"post-list__item-user-right-item-text"},{default:R((()=>[z(j(e.comment),1)])),_:2},1024)];s(B.ssrRenderComponent(v,{name:"more-circle-fill",color:"#666",size:"15"},null,l,i)),s(B.ssrRenderComponent(d,{class:"post-list__item-user-right-item-text"},{default:R(((t,s,l,i)=>{if(!s)return[z(j(e.comment),1)];s(`${B.ssrInterpolate(e.comment)}`)})),_:2},l,i))})),_:2},l,i))})),_:2},l,i))})),_:2},l,i))})),_:2},s,l))})),t("\x3c!--]--\x3e")})),_:1},i)):s("\x3c!----\x3e")}}},We=Le.setup;Le.setup=(e,t)=>{const s=I();return(s.modules||(s.modules=new Set)).add("components/ArticleWarp/ArticleWarp.vue"),We?We(e,t):void 0};const Oe=M(Le,[["__scopeId","data-v-1459a721"]]),Fe={name:"Lodding",data:()=>({})};const Pe=Fe.setup;Fe.setup=(e,t)=>{const s=I();return(s.modules||(s.modules=new Set)).add("components/Lodding/Lodding.vue"),Pe?Pe(e,t):void 0};const De=M(Fe,[["ssrRender",function(e,t,s,l,i,a,n,o){t(`<div${B.ssrRenderAttrs(k({class:"loader"},l))} data-v-9f425cd0><div class="box box-1" data-v-9f425cd0><div class="side-left" data-v-9f425cd0></div><div class="side-right" data-v-9f425cd0></div><div class="side-top" data-v-9f425cd0></div></div><div class="box box-2" data-v-9f425cd0><div class="side-left" data-v-9f425cd0></div><div class="side-right" data-v-9f425cd0></div><div class="side-top" data-v-9f425cd0></div></div><div class="box box-3" data-v-9f425cd0><div class="side-left" data-v-9f425cd0></div><div class="side-right" data-v-9f425cd0></div><div class="side-top" data-v-9f425cd0></div></div><div class="box box-4" data-v-9f425cd0><div class="side-left" data-v-9f425cd0></div><div class="side-right" data-v-9f425cd0></div><div class="side-top" data-v-9f425cd0></div></div></div>`)}],["__scopeId","data-v-9f425cd0"]]),He={__name:"index",__ssrInlineRender:!0,setup(e){S();const s=S(!0),l=S(!1);J((()=>{setTimeout((()=>{v()}),3e3)}));return X((()=>{a("change-page",(e=>{(e=>{s.value=e})(e)})),h({success:e=>{},fail:e=>{}}),a("showLodding",(()=>{l.value=!0})),a("closeLodding",(()=>{l.value=!1}))})),(e,i,a,n)=>{const o=t,r=U(T("u-sticky"),re);i("\x3c!--[--\x3e"),i(B.ssrRenderComponent(o,{class:"content"},{default:R(((e,t,l,i)=>{if(!t)return[w(de),w(Ie),E(w(o,{style:{"margin-top":"140rpx"}},{default:R((()=>[w(_e),w(he),w(r,{"offset-top":"-1"},{default:R((()=>[w(Re)])),_:1}),w(ye)])),_:1},512),[[A,s.value]]),E(w(o,{style:{"margin-top":"140rpx"}},{default:R((()=>[w(_e),w(Te),w(je),w(Oe)])),_:1},512),[[A,!s.value]])];t(B.ssrRenderComponent(de,null,null,l,i)),t(B.ssrRenderComponent(Ie,null,null,l,i)),t(B.ssrRenderComponent(o,{style:[{"margin-top":"140rpx"},s.value?null:{display:"none"}]},{default:R(((e,t,s,l)=>{if(!t)return[w(_e),w(he),w(r,{"offset-top":"-1"},{default:R((()=>[w(Re)])),_:1}),w(ye)];t(B.ssrRenderComponent(_e,null,null,s,l)),t(B.ssrRenderComponent(he,null,null,s,l)),t(B.ssrRenderComponent(r,{"offset-top":"-1"},{default:R(((e,t,s,l)=>{if(!t)return[w(Re)];t(B.ssrRenderComponent(Re,null,null,s,l))})),_:1},s,l)),t(B.ssrRenderComponent(ye,null,null,s,l))})),_:1},l,i)),t(B.ssrRenderComponent(o,{style:[s.value?{display:"none"}:null,{"margin-top":"140rpx"}]},{default:R(((e,t,s,l)=>{if(!t)return[w(_e),w(Te),w(je),w(Oe)];t(B.ssrRenderComponent(_e,null,null,s,l)),t(B.ssrRenderComponent(Te,null,null,s,l)),t(B.ssrRenderComponent(je,null,null,s,l)),t(B.ssrRenderComponent(Oe,null,null,s,l))})),_:1},l,i))})),_:1},a)),l.value?i(B.ssrRenderComponent(o,{class:"lodding"},{default:R(((e,t,s,l)=>{if(!t)return[w(De)];t(B.ssrRenderComponent(De,null,null,s,l))})),_:1},a)):i("\x3c!----\x3e"),i("\x3c!--]--\x3e")}}},qe=He.setup;He.setup=(e,t)=>{const s=I();return(s.modules||(s.modules=new Set)).add("pages/index/index.vue"),qe?qe(e,t):void 0};const Ee=M(He,[["__scopeId","data-v-51966ab2"]]);export{Ee as default};
