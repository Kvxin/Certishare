import{showToast as e,navigateTo as l,View as t}from"@dcloudio/uni-h5";import{_ as s}from"./u-button.b9b8b90d.js";import{ref as a,resolveDynamicComponent as n,mergeProps as o,withCtx as r,createVNode as i,openBlock as u,createBlock as c,Fragment as d,renderList as f,toDisplayString as p,createTextVNode as _,useSSRContext as k}from"vue";import{onLoad as m,resolveEasycom as v}from"@dcloudio/uni-app";import{s as w}from"./index.9f92f74a.js";import{s as C}from"./request.5320184e.js";import{u as y}from"./userStore.f2e6b8e0.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-loading-icon.535cfcc8.js";import"../entry-server.mjs";import"@dcloudio/uni-cloud";import"vue-demi";import"@vue/server-renderer";import"@dcloudio/uni-shared";import"./u-icon.ab49d795.js";import"@vue/shared";import"stream";import"axios";import"axios-miniprogram-adapter";const x={__name:"knowledge",__ssrInlineRender:!0,setup(k){const g=y().userData,x=a([]),h=a([]),R=a(0),b=a(0),j=(e,l,t)=>{x.value[t].answerKey=l},z=(e,l)=>x.value[e].answerKey===l,$=()=>{0!=b.value?(b.value--,R.value+=704):e({title:"已经是第一题了",icon:"none"})},D=()=>{9!=b.value?(b.value++,R.value-=704):e({title:"已经是最后一题了",icon:"none"})},I=e=>{b.value=e,R.value=-352*e*2},S=()=>{e({title:"正在提交答案...",icon:"loading"});const t={userAnswers:x.value,userId:g.id};var s;(s=t,C({url:"/post-answer",method:"POST",params:{data:s}})).then((e=>{l({url:`/pages/answer-result/answer-result?result=${JSON.stringify(e.data)}`})})).catch((e=>{console.log(e)}))};return m((e=>{(function(e,l){return C({url:"/getQuestion",method:"GET",params:{data:e,userId:l}})})(e.selectQuestionList,g.id).then((e=>{h.value=e.data.data,h.value.forEach((e=>{const l={_id:e._id,answerKey:""};x.value.push(l)}))}))})),(e,l,a,k)=>{const m=t,C=v(n("u-button"),s);l(w.ssrRenderComponent(m,o({class:"knowledge-page"},k),{default:r(((e,l,t,s)=>{if(!l)return[i(m,{class:"knowledge-warp"},{default:r((()=>[i(m,{class:"knowledge-title"},{default:r((()=>[i("h2",{style:{color:"#fff"}},"知识问答")])),_:1}),i(m,{class:"point"},{default:r((()=>[(u(),c(d,null,f(10,(e=>i("span",{key:e,class:{active:e<b.value},onClick:l=>I(e)},null,10,["onClick"]))),64))])),_:1}),i(m,{class:"knowledge-card-warp"},{default:r((()=>[i(m,{class:"knowledge-cards",style:{left:R.value+"rpx"}},{default:r((()=>[(u(!0),c(d,null,f(h.value,((e,l)=>(u(),c(m,{class:"knowledge-card",key:l},{default:r((()=>[i(m,{class:"title"},{default:r((()=>[i("span",null,p(e.title),1)])),_:2},1024),i(m,{class:"options"},{default:r((()=>[(u(!0),c(d,null,f(e.optionsData,((e,t)=>(u(),c(m,{class:["option",{active:z(l,t)}],onClick:e=>j(0,t,l)},{default:r((()=>[_(p(t)+". "+p(e),1)])),_:2},1032,["onClick","class"])))),256))])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["style"])])),_:1}),i(m,{class:"knowledge-buttons"},{default:r((()=>[i(m,{class:"previous",style:{color:"#fff","font-size":"14px","font-weight":"700"},onClick:$},{default:r((()=>[_(" 上一题 ")])),_:1}),i(C,{type:"primary",style:{width:"200rpx"},onClick:S},{default:r((()=>[_("提交")])),_:1}),i(m,{class:"next",style:{color:"#fff","font-size":"14px","font-weight":"700"},onClick:D},{default:r((()=>[_(" 下一题 ")])),_:1})])),_:1})])),_:1})];l(w.ssrRenderComponent(m,{class:"knowledge-warp"},{default:r(((e,l,t,s)=>{if(!l)return[i(m,{class:"knowledge-title"},{default:r((()=>[i("h2",{style:{color:"#fff"}},"知识问答")])),_:1}),i(m,{class:"point"},{default:r((()=>[(u(),c(d,null,f(10,(e=>i("span",{key:e,class:{active:e<b.value},onClick:l=>I(e)},null,10,["onClick"]))),64))])),_:1}),i(m,{class:"knowledge-card-warp"},{default:r((()=>[i(m,{class:"knowledge-cards",style:{left:R.value+"rpx"}},{default:r((()=>[(u(!0),c(d,null,f(h.value,((e,l)=>(u(),c(m,{class:"knowledge-card",key:l},{default:r((()=>[i(m,{class:"title"},{default:r((()=>[i("span",null,p(e.title),1)])),_:2},1024),i(m,{class:"options"},{default:r((()=>[(u(!0),c(d,null,f(e.optionsData,((e,t)=>(u(),c(m,{class:["option",{active:z(l,t)}],onClick:e=>j(0,t,l)},{default:r((()=>[_(p(t)+". "+p(e),1)])),_:2},1032,["onClick","class"])))),256))])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["style"])])),_:1}),i(m,{class:"knowledge-buttons"},{default:r((()=>[i(m,{class:"previous",style:{color:"#fff","font-size":"14px","font-weight":"700"},onClick:$},{default:r((()=>[_(" 上一题 ")])),_:1}),i(C,{type:"primary",style:{width:"200rpx"},onClick:S},{default:r((()=>[_("提交")])),_:1}),i(m,{class:"next",style:{color:"#fff","font-size":"14px","font-weight":"700"},onClick:D},{default:r((()=>[_(" 下一题 ")])),_:1})])),_:1})];l(w.ssrRenderComponent(m,{class:"knowledge-title"},{default:r(((e,l,t,s)=>{if(!l)return[i("h2",{style:{color:"#fff"}},"知识问答")];l(`<h2 style="${w.ssrRenderStyle({color:"#fff"})}" data-v-e4710b16${s}>知识问答</h2>`)})),_:1},t,s)),l(w.ssrRenderComponent(m,{class:"point"},{default:r(((e,l,t,s)=>{if(!l)return[(u(),c(d,null,f(10,(e=>i("span",{key:e,class:{active:e<b.value},onClick:l=>I(e)},null,10,["onClick"]))),64))];l("\x3c!--[--\x3e"),w.ssrRenderList(10,(e=>{l(`<span class="${w.ssrRenderClass({active:e<b.value})}" data-v-e4710b16${s}></span>`)})),l("\x3c!--]--\x3e")})),_:1},t,s)),l(w.ssrRenderComponent(m,{class:"knowledge-card-warp"},{default:r(((e,l,t,s)=>{if(!l)return[i(m,{class:"knowledge-cards",style:{left:R.value+"rpx"}},{default:r((()=>[(u(!0),c(d,null,f(h.value,((e,l)=>(u(),c(m,{class:"knowledge-card",key:l},{default:r((()=>[i(m,{class:"title"},{default:r((()=>[i("span",null,p(e.title),1)])),_:2},1024),i(m,{class:"options"},{default:r((()=>[(u(!0),c(d,null,f(e.optionsData,((e,t)=>(u(),c(m,{class:["option",{active:z(l,t)}],onClick:e=>j(0,t,l)},{default:r((()=>[_(p(t)+". "+p(e),1)])),_:2},1032,["onClick","class"])))),256))])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["style"])];l(w.ssrRenderComponent(m,{class:"knowledge-cards",style:{left:R.value+"rpx"}},{default:r(((e,l,t,s)=>{if(!l)return[(u(!0),c(d,null,f(h.value,((e,l)=>(u(),c(m,{class:"knowledge-card",key:l},{default:r((()=>[i(m,{class:"title"},{default:r((()=>[i("span",null,p(e.title),1)])),_:2},1024),i(m,{class:"options"},{default:r((()=>[(u(!0),c(d,null,f(e.optionsData,((e,t)=>(u(),c(m,{class:["option",{active:z(l,t)}],onClick:e=>j(0,t,l)},{default:r((()=>[_(p(t)+". "+p(e),1)])),_:2},1032,["onClick","class"])))),256))])),_:2},1024)])),_:2},1024)))),128))];l("\x3c!--[--\x3e"),w.ssrRenderList(h.value,((e,a)=>{l(w.ssrRenderComponent(m,{class:"knowledge-card",key:a},{default:r(((l,t,s,n)=>{if(!t)return[i(m,{class:"title"},{default:r((()=>[i("span",null,p(e.title),1)])),_:2},1024),i(m,{class:"options"},{default:r((()=>[(u(!0),c(d,null,f(e.optionsData,((e,l)=>(u(),c(m,{class:["option",{active:z(a,l)}],onClick:e=>j(0,l,a)},{default:r((()=>[_(p(l)+". "+p(e),1)])),_:2},1032,["onClick","class"])))),256))])),_:2},1024)];t(w.ssrRenderComponent(m,{class:"title"},{default:r(((l,t,s,a)=>{if(!t)return[i("span",null,p(e.title),1)];t(`<span data-v-e4710b16${a}>${w.ssrInterpolate(e.title)}</span>`)})),_:2},s,n)),t(w.ssrRenderComponent(m,{class:"options"},{default:r(((l,t,s,n)=>{if(!t)return[(u(!0),c(d,null,f(e.optionsData,((e,l)=>(u(),c(m,{class:["option",{active:z(a,l)}],onClick:e=>j(0,l,a)},{default:r((()=>[_(p(l)+". "+p(e),1)])),_:2},1032,["onClick","class"])))),256))];t("\x3c!--[--\x3e"),w.ssrRenderList(e.optionsData,((e,l)=>{t(w.ssrRenderComponent(m,{class:["option",{active:z(a,l)}],onClick:e=>j(0,l,a)},{default:r(((t,s,a,n)=>{if(!s)return[_(p(l)+". "+p(e),1)];s(`${w.ssrInterpolate(l)}. ${w.ssrInterpolate(e)}`)})),_:2},s,n))})),t("\x3c!--]--\x3e")})),_:2},s,n))})),_:2},t,s))})),l("\x3c!--]--\x3e")})),_:1},t,s))})),_:1},t,s)),l(w.ssrRenderComponent(m,{class:"knowledge-buttons"},{default:r(((e,l,t,s)=>{if(!l)return[i(m,{class:"previous",style:{color:"#fff","font-size":"14px","font-weight":"700"},onClick:$},{default:r((()=>[_(" 上一题 ")])),_:1}),i(C,{type:"primary",style:{width:"200rpx"},onClick:S},{default:r((()=>[_("提交")])),_:1}),i(m,{class:"next",style:{color:"#fff","font-size":"14px","font-weight":"700"},onClick:D},{default:r((()=>[_(" 下一题 ")])),_:1})];l(w.ssrRenderComponent(m,{class:"previous",style:{color:"#fff","font-size":"14px","font-weight":"700"},onClick:$},{default:r(((e,l,t,s)=>{if(!l)return[_(" 上一题 ")];l(" 上一题 ")})),_:1},t,s)),l(w.ssrRenderComponent(C,{type:"primary",style:{width:"200rpx"},onClick:S},{default:r(((e,l,t,s)=>{if(!l)return[_("提交")];l("提交")})),_:1},t,s)),l(w.ssrRenderComponent(m,{class:"next",style:{color:"#fff","font-size":"14px","font-weight":"700"},onClick:D},{default:r(((e,l,t,s)=>{if(!l)return[_(" 下一题 ")];l(" 下一题 ")})),_:1},t,s))})),_:1},t,s))})),_:1},t,s))})),_:1},a))}}},h=x.setup;x.setup=(e,l)=>{const t=k();return(t.modules||(t.modules=new Set)).add("pages/knowledge/knowledge.vue"),h?h(e,l):void 0};const R=g(x,[["__scopeId","data-v-e4710b16"]]);export{R as default};
