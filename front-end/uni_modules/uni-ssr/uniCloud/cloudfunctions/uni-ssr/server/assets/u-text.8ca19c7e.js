import{Text as e,makePhoneCall as t,View as n,Button as s}from"@dcloudio/uni-h5";import{_ as o}from"./u-icon.ab49d795.js";import{useSSRContext as l,mergeProps as i,withCtx as u,createTextVNode as r,toDisplayString as a,resolveDynamicComponent as p,createVNode as d,openBlock as c,createBlock as m,createCommentVNode as f}from"vue";import{resolveEasycom as y}from"@dcloudio/uni-app";import{d as x,m as g,a as h}from"../entry-server.mjs";import{s as S}from"./index.9f92f74a.js";import{_}from"./_plugin-vue_export-helper.1b428a4d.js";const v={name:"u-link",mixins:[g,h,{props:{color:{type:String,default:x.link.color},fontSize:{type:[String,Number],default:x.link.fontSize},underLine:{type:Boolean,default:x.link.underLine},href:{type:String,default:x.link.href},mpTips:{type:String,default:x.link.mpTips},lineColor:{type:String,default:x.link.lineColor},text:{type:String,default:x.link.text}}}],computed:{linkStyle(){return{color:this.color,fontSize:uni.$u.addUnit(this.fontSize),lineHeight:uni.$u.addUnit(uni.$u.getPx(this.fontSize)+2),textDecoration:this.underLine?"underline":"none"}}},emits:["click"],methods:{openLink(){window.open(this.href),this.$emit("click")}}};const $=v.setup;v.setup=(e,t)=>{const n=l();return(n.modules||(n.modules=new Set)).add("uni_modules/uview-plus/components/u-link/u-link.vue"),$?$(e,t):void 0};const k=_(v,[["ssrRender",function(t,n,s,o,l,p,d,c){const m=e;n(S.ssrRenderComponent(m,i({class:"u-link",onClick:c.openLink,style:[c.linkStyle,t.$u.addStyle(t.customStyle)]},o),{default:u(((e,n,s,o)=>{if(!n)return[r(a(t.text),1)];n(`${S.ssrInterpolate(t.text)}`)})),_:1},s))}],["__scopeId","data-v-0f79af8b"]]),b={computed:{value(){const{text:e,mode:t,format:n,href:s}=this;return"price"===t?(/^\d+(\.\d+)?$/.test(e)||uni.$u.error("金额模式下，text参数需要为金额格式"),uni.$u.test.func(n)?n(e):uni.$u.priceFormat(e,2)):"date"===t?(!uni.$u.test.date(e)&&uni.$u.error("日期模式下，text参数需要为日期或时间戳格式"),uni.$u.test.func(n)?n(e):n?uni.$u.timeFormat(e,n):uni.$u.timeFormat(e,"yyyy-mm-dd")):"phone"===t?uni.$u.test.func(n)?n(e):"encrypt"===n?`${e.substr(0,3)}****${e.substr(7)}`:e:"name"===t?("string"!=typeof e&&uni.$u.error("姓名模式下，text参数需要为字符串格式"),uni.$u.test.func(n)?n(e):"encrypt"===n?this.formatName(e):e):"link"===t?(!uni.$u.test.url(s)&&uni.$u.error("超链接模式下，href参数需要为URL格式"),e):e}},methods:{formatName(e){let t="";if(2===e.length)t=e.substr(0,1)+"*";else if(e.length>2){let n="";for(let t=0,s=e.length-2;t<s;t++)n+="*";t=e.substr(0,1)+n+e.substr(-1,1)}else t=e;return t}}},I={props:{type:{type:String,default:x.text.type},show:{type:Boolean,default:x.text.show},text:{type:[String,Number],default:x.text.text},prefixIcon:{type:String,default:x.text.prefixIcon},suffixIcon:{type:String,default:x.text.suffixIcon},mode:{type:String,default:x.text.mode},href:{type:String,default:x.text.href},format:{type:[String,Function],default:x.text.format},call:{type:Boolean,default:x.text.call},openType:{type:String,default:x.text.openType},bold:{type:Boolean,default:x.text.bold},block:{type:Boolean,default:x.text.block},lines:{type:[String,Number],default:x.text.lines},color:{type:String,default:x.text.color},size:{type:[String,Number],default:x.text.size},iconStyle:{type:[Object,String],default:x.text.iconStyle},decoration:{tepe:String,default:x.text.decoration},margin:{type:[Object,String,Number],default:x.text.margin},lineHeight:{type:[String,Number],default:x.text.lineHeight},align:{type:String,default:x.text.align},wordWrap:{type:String,default:x.text.wordWrap}}},w={name:"u--text",mixins:[g,h,b,I],emits:["click"],computed:{valueStyle(){const e={textDecoration:this.decoration,fontWeight:this.bold?"bold":"normal",wordWrap:this.wordWrap,fontSize:uni.$u.addUnit(this.size)};return!this.type&&(e.color=this.color),this.isNvue&&this.lines&&(e.lines=this.lines),this.lineHeight&&(e.lineHeight=uni.$u.addUnit(this.lineHeight)),!this.isNvue&&this.block&&(e.display="block"),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},isNvue:()=>!1,isMp:()=>!1},data:()=>({}),methods:{clickHandler(){this.call&&"phone"===this.mode&&t({phoneNumber:this.text}),this.$emit("click")}}};const C=w.setup;w.setup=(e,t)=>{const n=l();return(n.modules||(n.modules=new Set)).add("uni_modules/uview-plus/components/u-text/u-text.vue"),C?C(e,t):void 0};const N=_(w,[["ssrRender",function(t,l,x,g,h,_,v,$){const b=n,I=e,w=y(p("u-icon"),o),C=y(p("u-link"),k),N=s;t.show?l(S.ssrRenderComponent(b,i({class:["u-text",[]],style:{margin:t.margin,justifyContent:"left"===t.align?"flex-start":"center"===t.align?"center":"flex-end"},onClick:$.clickHandler},g),{default:u(((e,n,s,o)=>{if(!n)return["price"===t.mode?(c(),m(I,{key:0,class:["u-text__price",t.type&&`u-text__value--${t.type}`],style:[$.valueStyle]},{default:u((()=>[r("￥")])),_:1},8,["class","style"])):f("",!0),t.prefixIcon?(c(),m(b,{key:1,class:"u-text__prefix-icon"},{default:u((()=>[d(w,{name:t.prefixIcon,customStyle:t.$u.addStyle(t.iconStyle)},null,8,["name","customStyle"])])),_:1})):f("",!0),"link"===t.mode?(c(),m(C,{key:2,class:["u-text__value",[t.type&&`u-text__value--${t.type}`,t.lines&&`u-line-${t.lines}`]],style:{fontWeight:$.valueStyle.fontWeight,wordWrap:$.valueStyle.wordWrap,fontSize:$.valueStyle.fontSize},text:t.value,href:t.href,underLine:""},null,8,["style","class","text","href"])):t.openType&&$.isMp?(c(),m(N,{key:3,class:"u-reset-button u-text__value",style:[$.valueStyle],"data-index":t.index,openType:t.openType,onGetuserinfo:t.onGetUserInfo,onContact:t.onContact,onGetphonenumber:t.onGetPhoneNumber,onError:t.onError,onLaunchapp:t.onLaunchApp,onOpensetting:t.onOpenSetting,lang:t.lang,"session-from":t.sessionFrom,"send-message-title":t.sendMessageTitle,"send-message-path":t.sendMessagePath,"send-message-img":t.sendMessageImg,"show-message-card":t.showMessageCard,"app-parameter":t.appParameter},{default:u((()=>[r(a(t.value),1)])),_:1},8,["style","data-index","openType","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter"])):(c(),m(I,{key:4,class:["u-text__value",[t.type&&`u-text__value--${t.type}`,t.lines&&`u-line-${t.lines}`]],style:[$.valueStyle]},{default:u((()=>[r(a(t.value),1)])),_:1},8,["style","class"])),t.suffixIcon?(c(),m(b,{key:5,class:"u-text__suffix-icon"},{default:u((()=>[d(w,{name:t.suffixIcon,customStyle:t.$u.addStyle(t.iconStyle)},null,8,["name","customStyle"])])),_:1})):f("",!0)];"price"===t.mode?n(S.ssrRenderComponent(I,{class:["u-text__price",t.type&&`u-text__value--${t.type}`],style:[$.valueStyle]},{default:u(((e,t,n,s)=>{if(!t)return[r("￥")];t("￥")})),_:1},s,o)):n("\x3c!----\x3e"),t.prefixIcon?n(S.ssrRenderComponent(b,{class:"u-text__prefix-icon"},{default:u(((e,n,s,o)=>{if(!n)return[d(w,{name:t.prefixIcon,customStyle:t.$u.addStyle(t.iconStyle)},null,8,["name","customStyle"])];n(S.ssrRenderComponent(w,{name:t.prefixIcon,customStyle:t.$u.addStyle(t.iconStyle)},null,s,o))})),_:1},s,o)):n("\x3c!----\x3e"),"link"===t.mode?n(S.ssrRenderComponent(C,{class:["u-text__value",[t.type&&`u-text__value--${t.type}`,t.lines&&`u-line-${t.lines}`]],style:{fontWeight:$.valueStyle.fontWeight,wordWrap:$.valueStyle.wordWrap,fontSize:$.valueStyle.fontSize},text:t.value,href:t.href,underLine:""},null,s,o)):t.openType&&$.isMp?n(S.ssrRenderComponent(N,{class:"u-reset-button u-text__value",style:[$.valueStyle],"data-index":t.index,openType:t.openType,onGetuserinfo:t.onGetUserInfo,onContact:t.onContact,onGetphonenumber:t.onGetPhoneNumber,onError:t.onError,onLaunchapp:t.onLaunchApp,onOpensetting:t.onOpenSetting,lang:t.lang,"session-from":t.sessionFrom,"send-message-title":t.sendMessageTitle,"send-message-path":t.sendMessagePath,"send-message-img":t.sendMessageImg,"show-message-card":t.showMessageCard,"app-parameter":t.appParameter},{default:u(((e,n,s,o)=>{if(!n)return[r(a(t.value),1)];n(`${S.ssrInterpolate(t.value)}`)})),_:1},s,o)):n(S.ssrRenderComponent(I,{class:["u-text__value",[t.type&&`u-text__value--${t.type}`,t.lines&&`u-line-${t.lines}`]],style:[$.valueStyle]},{default:u(((e,n,s,o)=>{if(!n)return[r(a(t.value),1)];n(`${S.ssrInterpolate(t.value)}`)})),_:1},s,o)),t.suffixIcon?n(S.ssrRenderComponent(b,{class:"u-text__suffix-icon"},{default:u(((e,n,s,o)=>{if(!n)return[d(w,{name:t.suffixIcon,customStyle:t.$u.addStyle(t.iconStyle)},null,8,["name","customStyle"])];n(S.ssrRenderComponent(w,{name:t.suffixIcon,customStyle:t.$u.addStyle(t.iconStyle)},null,s,o))})),_:1},s,o)):n("\x3c!----\x3e")})),_:1},x)):l("\x3c!----\x3e")}],["__scopeId","data-v-17ef01e9"]]);export{I as p,N as u};
