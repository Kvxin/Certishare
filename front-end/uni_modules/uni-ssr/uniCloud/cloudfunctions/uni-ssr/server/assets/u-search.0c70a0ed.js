import{hideKeyboard as e,View as o,Text as l,Input as t}from"@dcloudio/uni-h5";import{_ as c}from"./u-icon.ab49d795.js";import{resolveDynamicComponent as r,mergeProps as a,withCtx as n,createTextVNode as s,toDisplayString as i,createVNode as u,renderSlot as h,createCommentVNode as d,openBlock as p,createBlock as _,withModifiers as f,useSSRContext as m}from"vue";import{resolveEasycom as y}from"@dcloudio/uni-app";import{d as g,m as C,a as b}from"../entry-server.mjs";import{s as k}from"./index.9f92f74a.js";import{_ as S}from"./_plugin-vue_export-helper.1b428a4d.js";const x={name:"u-search",mixins:[C,b,{props:{shape:{type:String,default:g.search.shape},bgColor:{type:String,default:g.search.bgColor},placeholder:{type:String,default:g.search.placeholder},clearabled:{type:Boolean,default:g.search.clearabled},focus:{type:Boolean,default:g.search.focus},showAction:{type:Boolean,default:g.search.showAction},actionStyle:{type:Object,default:g.search.actionStyle},actionText:{type:String,default:g.search.actionText},inputAlign:{type:String,default:g.search.inputAlign},inputStyle:{type:Object,default:g.search.inputStyle},disabled:{type:Boolean,default:g.search.disabled},borderColor:{type:String,default:g.search.borderColor},searchIconColor:{type:String,default:g.search.searchIconColor},color:{type:String,default:g.search.color},placeholderColor:{type:String,default:g.search.placeholderColor},searchIcon:{type:String,default:g.search.searchIcon},searchIconSize:{type:[Number,String],default:g.search.searchIconSize},margin:{type:String,default:g.search.margin},animation:{type:Boolean,default:g.search.animation},modelValue:{type:String,default:g.search.value},value:{type:String,default:g.search.value},maxlength:{type:[String,Number],default:g.search.maxlength},height:{type:[String,Number],default:g.search.height},label:{type:[String,Number,null],default:g.search.label}}}],data(){return{keyword:"",showClear:!1,show:!1,focused:this.focus}},watch:{keyword(e){this.$emit("update:modelValue",e),this.$emit("change",e)},modelValue:{immediate:!0,handler(e){this.keyword=e}}},computed:{showActionBtn(){return!this.animation&&this.showAction}},emits:["clear","search","custom","focus","blur","click","clickIcon","update:modelValue","change"],methods:{inputChange(e){this.keyword=e.detail.value},clear(){this.keyword="",this.$nextTick((()=>{this.$emit("clear")}))},search(o){this.$emit("search",o.detail.value);try{e()}catch(l){}},custom(){this.$emit("custom",this.keyword);try{e()}catch(o){}},getFocus(){this.focused=!0,this.animation&&this.showAction&&(this.show=!0),this.$emit("focus",this.keyword)},blur(){setTimeout((()=>{this.focused=!1}),100),this.show=!1,this.$emit("blur",this.keyword)},clickHandler(){this.disabled&&this.$emit("click")},clickIcon(o){this.$emit("clickIcon",this.keyword);try{e()}catch(l){}}}};const I=x.setup;x.setup=(e,o)=>{const l=m();return(l.modules||(l.modules=new Set)).add("uni_modules/uview-plus/components/u-search/u-search.vue"),I?I(e,o):void 0};const w=S(x,[["ssrRender",function(e,m,g,C,b,S,x,I){const w=o,$=l,v=y(r("u-icon"),c),z=t;m(k.ssrRenderComponent(w,a({class:"u-search",onClick:I.clickHandler,style:[{margin:e.margin},e.$u.addStyle(e.customStyle)]},C),{default:n(((o,l,t,c)=>{if(!l)return[u(w,{class:"u-search__content",style:{backgroundColor:e.bgColor,borderRadius:"round"==e.shape?"100px":"4px",borderColor:e.borderColor}},{default:n((()=>[e.$slots.label||null!==e.label?h(e.$slots,"label",{key:0},(()=>[u($,{class:"u-search__content__label"},{default:n((()=>[s(i(e.label),1)])),_:1})]),!0):d("",!0),u(w,{class:"u-search__content__icon"},{default:n((()=>[u(v,{onClick:I.clickIcon,size:e.searchIconSize,name:e.searchIcon,color:e.searchIconColor?e.searchIconColor:e.color},null,8,["onClick","size","name","color"])])),_:1}),u(z,{"confirm-type":"search",onBlur:I.blur,value:x.keyword,onConfirm:I.search,onInput:I.inputChange,disabled:e.disabled,onFocus:I.getFocus,focus:e.focus,maxlength:e.maxlength,"placeholder-class":"u-search__content__input--placeholder",placeholder:e.placeholder,"placeholder-style":`color: ${e.placeholderColor}`,class:"u-search__content__input",type:"text",style:[{textAlign:e.inputAlign,color:e.color,backgroundColor:e.bgColor,height:e.$u.addUnit(e.height)},e.inputStyle]},null,8,["onBlur","value","onConfirm","onInput","disabled","onFocus","focus","maxlength","placeholder","placeholder-style","style"]),x.keyword&&e.clearabled&&x.focused?(p(),_(w,{key:1,class:"u-search__content__icon u-search__content__close",onClick:I.clear},{default:n((()=>[u(v,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"})])),_:1},8,["onClick"])):d("",!0)])),_:3},8,["style"]),u($,{style:[e.actionStyle],class:["u-search__action",[(I.showActionBtn||x.show)&&"u-search__action--active"]],onClick:f(I.custom,["stop","prevent"])},{default:n((()=>[s(i(e.actionText),1)])),_:1},8,["style","class","onClick"])];l(k.ssrRenderComponent(w,{class:"u-search__content",style:{backgroundColor:e.bgColor,borderRadius:"round"==e.shape?"100px":"4px",borderColor:e.borderColor}},{default:n(((o,l,t,c)=>{if(!l)return[e.$slots.label||null!==e.label?h(e.$slots,"label",{key:0},(()=>[u($,{class:"u-search__content__label"},{default:n((()=>[s(i(e.label),1)])),_:1})]),!0):d("",!0),u(w,{class:"u-search__content__icon"},{default:n((()=>[u(v,{onClick:I.clickIcon,size:e.searchIconSize,name:e.searchIcon,color:e.searchIconColor?e.searchIconColor:e.color},null,8,["onClick","size","name","color"])])),_:1}),u(z,{"confirm-type":"search",onBlur:I.blur,value:x.keyword,onConfirm:I.search,onInput:I.inputChange,disabled:e.disabled,onFocus:I.getFocus,focus:e.focus,maxlength:e.maxlength,"placeholder-class":"u-search__content__input--placeholder",placeholder:e.placeholder,"placeholder-style":`color: ${e.placeholderColor}`,class:"u-search__content__input",type:"text",style:[{textAlign:e.inputAlign,color:e.color,backgroundColor:e.bgColor,height:e.$u.addUnit(e.height)},e.inputStyle]},null,8,["onBlur","value","onConfirm","onInput","disabled","onFocus","focus","maxlength","placeholder","placeholder-style","style"]),x.keyword&&e.clearabled&&x.focused?(p(),_(w,{key:1,class:"u-search__content__icon u-search__content__close",onClick:I.clear},{default:n((()=>[u(v,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"})])),_:1},8,["onClick"])):d("",!0)];e.$slots.label||null!==e.label?k.ssrRenderSlot(e.$slots,"label",{},(()=>{l(k.ssrRenderComponent($,{class:"u-search__content__label"},{default:n(((o,l,t,c)=>{if(!l)return[s(i(e.label),1)];l(`${k.ssrInterpolate(e.label)}`)})),_:1},t,c))}),l,t,c):l("\x3c!----\x3e"),l(k.ssrRenderComponent(w,{class:"u-search__content__icon"},{default:n(((o,l,t,c)=>{if(!l)return[u(v,{onClick:I.clickIcon,size:e.searchIconSize,name:e.searchIcon,color:e.searchIconColor?e.searchIconColor:e.color},null,8,["onClick","size","name","color"])];l(k.ssrRenderComponent(v,{onClick:I.clickIcon,size:e.searchIconSize,name:e.searchIcon,color:e.searchIconColor?e.searchIconColor:e.color},null,t,c))})),_:1},t,c)),l(k.ssrRenderComponent(z,{"confirm-type":"search",onBlur:I.blur,value:x.keyword,onConfirm:I.search,onInput:I.inputChange,disabled:e.disabled,onFocus:I.getFocus,focus:e.focus,maxlength:e.maxlength,"placeholder-class":"u-search__content__input--placeholder",placeholder:e.placeholder,"placeholder-style":`color: ${e.placeholderColor}`,class:"u-search__content__input",type:"text",style:[{textAlign:e.inputAlign,color:e.color,backgroundColor:e.bgColor,height:e.$u.addUnit(e.height)},e.inputStyle]},null,t,c)),x.keyword&&e.clearabled&&x.focused?l(k.ssrRenderComponent(w,{class:"u-search__content__icon u-search__content__close",onClick:I.clear},{default:n(((e,o,l,t)=>{if(!o)return[u(v,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"})];o(k.ssrRenderComponent(v,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"},null,l,t))})),_:1},t,c)):l("\x3c!----\x3e")})),_:3},t,c)),l(k.ssrRenderComponent($,{style:[e.actionStyle],class:["u-search__action",[(I.showActionBtn||x.show)&&"u-search__action--active"]],onClick:I.custom},{default:n(((o,l,t,c)=>{if(!l)return[s(i(e.actionText),1)];l(`${k.ssrInterpolate(e.actionText)}`)})),_:1},t,c))})),_:3},g))}],["__scopeId","data-v-8210c7e3"]]);export{w as _};
