import{navigateTo as e,createSelectorQuery as a,$emit as l,Swiper as t,SwiperItem as r,View as n}from"@dcloudio/uni-h5";import{_ as o}from"./uni-nav-bar.0597c604.js";import{ref as s,getCurrentInstance as d,watchEffect as i,onMounted as c,mergeProps as u,withCtx as p,createVNode as m,openBlock as f,createBlock as v,Fragment as h,renderList as C,useSSRContext as _,computed as x,resolveDynamicComponent as k,createTextVNode as g,toDisplayString as y,unref as R}from"vue";import{onLoad as b,resolveEasycom as I}from"@dcloudio/uni-app";import{_ as S}from"./u-search.0c70a0ed.js";import{s as j}from"./index.9f92f74a.js";import{g as V}from"./search.cd6280e6.js";import"./request.5320184e.js";import{s as w,C as U}from"./Card.20224e85.js";import{_ as q}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.4543db02.js";import"./u-icon.ab49d795.js";import"../entry-server.mjs";import"@dcloudio/uni-cloud";import"vue-demi";import"@vue/server-renderer";import"@dcloudio/uni-shared";import"@vue/shared";import"stream";import"axios";import"axios-miniprogram-adapter";import"./u-image.2535d66a.js";import"./u-loading-icon.535cfcc8.js";import"./u-transition.e7c98e8b.js";const D={__name:"SearchResultCardWarp",__ssrInlineRender:!0,props:{cardsDatas:Object},setup(o){s([]);const _=s([]),x=s([]),k=s(1e3);w().getSystemNav;const g=o;let y=d();function R(){_.value=[],x.value=[],g.cardsDatas.forEach(((e,a)=>{a%2==0?_.value.push(e):x.value.push(e)}))}const b=a=>{e({url:`/pages/card-info/card-info?id=${a}`})},I=()=>{a().in(y).select(".card-warp").boundingClientRect((e=>{let a=JSON.parse(JSON.stringify(e));k.value=a.height})).exec()};i((()=>{R(),setTimeout((()=>{I()}))}));const S=e=>{const a=e.detail.current;l("changeNav",a)};return c((async()=>{R(),setTimeout((()=>{I()}))})),(e,a,l,o)=>{const s=t,d=r,i=n;a(j.ssrRenderComponent(s,u({style:{height:k.value+150+"px"},onChange:S},o),{default:p(((e,a,l,t)=>{if(!a)return[m(d,null,{default:p((()=>[m(i,{class:"card-warp"},{default:p((()=>[m("div",{class:"card-left"},[(f(!0),v(h,null,C(_.value,((e,a)=>(f(),v(U,{key:e.id,cardInfo:e,onClick:a=>b(e._id)},null,8,["cardInfo","onClick"])))),128))]),m("div",{class:"card-right"},[(f(!0),v(h,null,C(x.value,((e,a)=>(f(),v(U,{key:e.id,cardInfo:e,onClick:a=>b(e._id)},null,8,["cardInfo","onClick"])))),128))])])),_:1})])),_:1})];a(j.ssrRenderComponent(d,null,{default:p(((e,a,l,t)=>{if(!a)return[m(i,{class:"card-warp"},{default:p((()=>[m("div",{class:"card-left"},[(f(!0),v(h,null,C(_.value,((e,a)=>(f(),v(U,{key:e.id,cardInfo:e,onClick:a=>b(e._id)},null,8,["cardInfo","onClick"])))),128))]),m("div",{class:"card-right"},[(f(!0),v(h,null,C(x.value,((e,a)=>(f(),v(U,{key:e.id,cardInfo:e,onClick:a=>b(e._id)},null,8,["cardInfo","onClick"])))),128))])])),_:1})];a(j.ssrRenderComponent(i,{class:"card-warp"},{default:p(((e,a,l,t)=>{if(!a)return[m("div",{class:"card-left"},[(f(!0),v(h,null,C(_.value,((e,a)=>(f(),v(U,{key:e.id,cardInfo:e,onClick:a=>b(e._id)},null,8,["cardInfo","onClick"])))),128))]),m("div",{class:"card-right"},[(f(!0),v(h,null,C(x.value,((e,a)=>(f(),v(U,{key:e.id,cardInfo:e,onClick:a=>b(e._id)},null,8,["cardInfo","onClick"])))),128))])];a(`<div class="card-left" data-v-21419708${t}>\x3c!--[--\x3e`),j.ssrRenderList(_.value,((e,r)=>{a(j.ssrRenderComponent(U,{key:e.id,cardInfo:e,onClick:a=>b(e._id)},null,l,t))})),a(`\x3c!--]--\x3e</div><div class="card-right" data-v-21419708${t}>\x3c!--[--\x3e`),j.ssrRenderList(x.value,((e,r)=>{a(j.ssrRenderComponent(U,{key:e.id,cardInfo:e,onClick:a=>b(e._id)},null,l,t))})),a("\x3c!--]--\x3e</div>")})),_:1},l,t))})),_:1},l,t))})),_:1},l))}}},T=D.setup;D.setup=(e,a)=>{const l=_();return(l.modules||(l.modules=new Set)).add("components/SearchResultCardWarp/SearchResultCardWarp.vue"),T?T(e,a):void 0};const L=q(D,[["__scopeId","data-v-21419708"]]),$={__name:"search-result",__ssrInlineRender:!0,setup(e){const a=s(""),l=s([]),t=x((()=>`获取到了${l.value.length}条数据`));return b((e=>{a.value=e.searchKey,(async e=>{V(e).then((e=>{l.value=e.data}))})(a.value)})),(e,r,s,d)=>{const i=n,c=I(k("uni-nav-bar"),o),f=I(k("u-search"),S);r(j.ssrRenderComponent(i,u({class:"search-result-input"},d),{default:p(((r,n,o,s)=>{if(!n)return[m(c,{fixed:!0,shadow:"","status-bar":"","left-icon":"left","left-text":"返回","right-text":"搜索","right-width":"30px",onClickLeft:e.back,onClickRight:e.search,height:"65px",class:"nav-bar",border:!1,gradientColors:["#ff9a9e","#fad0c4"]},{default:p((()=>[m(i,{class:"search-box"},{default:p((()=>[m(f,{placeholder:"点击进行搜索",shape:"square",clearabled:!0,actionText:"",actionStyle:e.actionStyle,modelValue:a.value,"onUpdate:modelValue":e=>a.value=e},null,8,["actionStyle","modelValue","onUpdate:modelValue"])])),_:1})])),_:1},8,["onClickLeft","onClickRight"]),m(i,{class:"search-result-data"},{default:p((()=>[g(y(t.value),1)])),_:1}),m(R(L),{cardsDatas:l.value},null,8,["cardsDatas"])];n(j.ssrRenderComponent(c,{fixed:!0,shadow:"","status-bar":"","left-icon":"left","left-text":"返回","right-text":"搜索","right-width":"30px",onClickLeft:e.back,onClickRight:e.search,height:"65px",class:"nav-bar",border:!1,gradientColors:["#ff9a9e","#fad0c4"]},{default:p(((l,t,r,n)=>{if(!t)return[m(i,{class:"search-box"},{default:p((()=>[m(f,{placeholder:"点击进行搜索",shape:"square",clearabled:!0,actionText:"",actionStyle:e.actionStyle,modelValue:a.value,"onUpdate:modelValue":e=>a.value=e},null,8,["actionStyle","modelValue","onUpdate:modelValue"])])),_:1})];t(j.ssrRenderComponent(i,{class:"search-box"},{default:p(((l,t,r,n)=>{if(!t)return[m(f,{placeholder:"点击进行搜索",shape:"square",clearabled:!0,actionText:"",actionStyle:e.actionStyle,modelValue:a.value,"onUpdate:modelValue":e=>a.value=e},null,8,["actionStyle","modelValue","onUpdate:modelValue"])];t(j.ssrRenderComponent(f,{placeholder:"点击进行搜索",shape:"square",clearabled:!0,actionText:"",actionStyle:e.actionStyle,modelValue:a.value,"onUpdate:modelValue":e=>a.value=e},null,r,n))})),_:1},r,n))})),_:1},o,s)),n(j.ssrRenderComponent(i,{class:"search-result-data"},{default:p(((e,a,l,r)=>{if(!a)return[g(y(t.value),1)];a(`${j.ssrInterpolate(t.value)}`)})),_:1},o,s)),n(j.ssrRenderComponent(R(L),{cardsDatas:l.value},null,o,s))})),_:1},s))}}},N=$.setup;$.setup=(e,a)=>{const l=_();return(l.modules||(l.modules=new Set)).add("pages/search-result/search-result.vue"),N?N(e,a):void 0};const O=q($,[["__scopeId","data-v-8b9afab0"]]);export{O as default};
