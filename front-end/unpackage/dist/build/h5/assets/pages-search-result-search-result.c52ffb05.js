import{_ as a}from"./u-search.23d6bae1.js";import{g as s,ag as e,h as t,o as l,b as r,w as n,e as o,y as c,k as i,F as u,l as d,n as p,v as f,A as h,$ as m,i as v,S as g,B as _,C as j,K as C,q as y,t as b,u as k,j as x}from"./index-00d60881.js";import{a as S,r as I}from"./uni-app.es.321125a8.js";import{_ as w}from"./uni-nav-bar.4d3ebaa8.js";import{g as D}from"./search.4f2a8352.js";import"./request.708de9e4.js";import{s as N,C as R}from"./Card.edd54045.js";import{_ as q}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.69362ebb.js";import"./uni-icons.3d408e16.js";import"./u-image.c994c8e7.js";import"./u-loading-icon.24b0e379.js";import"./u-transition.2954decb.js";const O=q({__name:"SearchResultCardWarp",props:{cardsDatas:Object},setup(a){const C=a;s([]);const y=s([]),b=s([]),k=s(1e3);N().getSystemNav;let x=j();function S(){y.value=[],b.value=[],C.cardsDatas.forEach(((a,s)=>{s%2==0?y.value.push(a):b.value.push(a)}))}const I=a=>{f({url:`/pages/card-info/card-info?id=${a}`})},w=()=>{h().in(x).select(".card-warp").boundingClientRect((a=>{let s=JSON.parse(JSON.stringify(a));k.value=s.height})).exec()};e((()=>{S(),setTimeout((()=>{w()}))}));const D=a=>{const s=a.detail.current;m("changeNav",s)};return t((async()=>{S(),setTimeout((()=>{w()}))})),(a,s)=>{const e=v,t=g,f=_;return l(),r(f,{style:p({height:k.value+150+"px"}),onChange:D},{default:n((()=>[o(t,null,{default:n((()=>[o(e,{class:"card-warp"},{default:n((()=>[c("div",{class:"card-left"},[(l(!0),i(u,null,d(y.value,((a,s)=>(l(),r(R,{key:a.id,cardInfo:a,onClick:s=>I(a._id)},null,8,["cardInfo","onClick"])))),128))]),c("div",{class:"card-right"},[(l(!0),i(u,null,d(b.value,((a,s)=>(l(),r(R,{key:a.id,cardInfo:a,onClick:s=>I(a._id)},null,8,["cardInfo","onClick"])))),128))])])),_:1})])),_:1})])),_:1},8,["style"])}}},[["__scopeId","data-v-21419708"]]),T=q({__name:"search-result",setup(e){const t=s(""),c=s([]),i=C((()=>`获取到了${c.value.length}条数据`));return S((a=>{t.value=a.searchKey,(async a=>{D(a).then((a=>{c.value=a.data}))})(t.value)})),(s,e)=>{const u=I(x("u-search"),a),d=v,p=I(x("uni-nav-bar"),w);return l(),r(d,{class:"search-result-input"},{default:n((()=>[o(p,{fixed:!0,shadow:"","status-bar":"","left-icon":"left","left-text":"返回","right-text":"搜索","right-width":"30px",onClickLeft:s.back,onClickRight:s.search,height:"65px",class:"nav-bar",border:!1,gradientColors:["#ff9a9e","#fad0c4"]},{default:n((()=>[o(d,{class:"search-box"},{default:n((()=>[o(u,{placeholder:"点击进行搜索",shape:"square",clearabled:!0,actionText:"",actionStyle:s.actionStyle,modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=a=>t.value=a)},null,8,["actionStyle","modelValue"])])),_:1})])),_:1},8,["onClickLeft","onClickRight"]),o(d,{class:"search-result-data"},{default:n((()=>[y(b(k(i)),1)])),_:1}),o(k(O),{cardsDatas:c.value},null,8,["cardsDatas"])])),_:1})}}},[["__scopeId","data-v-8b9afab0"]]);export{T as default};
