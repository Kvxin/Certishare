{"version":3,"file":"uni_modules-uni-upgrade-center-app-pages-upgrade-popup.dc043cc6.js","sources":["../../../../../uni_modules/uni-upgrade-center-app/static/bg_top.png","../../../../../uni_modules/uni-upgrade-center-app/pages/upgrade-popup.vue","../../../../../uni_modules/uni-upgrade-center-app/static/app_update_close.png"],"sourcesContent":null,"names":["localFilePathKey","openSchemePromise","downloadTask","data","installForBeforeFilePath","installed","installing","downloadSuccess","downloading","downLoadPercent","downloadedSize","packageFileSize","tempFilePath","title","contents","is_mandatory","subTitle","downLoadBtnTextiOS","downLoadBtnText","downLoadingText","onLoad","local_storage_key","console","error","localPackageInfo","uni.getStorageSync","requiredKey","key","indexOf","Object","assign","this","checkLocalStoragePackage","onBackPress","needNotificationProgress","abort","onHide","computed","isWGT","type","isiOS","platform","isAndroid","isAppStore","url","methods","localFilePathRecord","version","savedFilePath","v1","v2","String","split","minVersionLens","Math","min","length","result","i","curV1","Number","curV2","v1BiggerThenv2","maxLensVersion","compare","deleteSavedFile","askAbortDownload","showModal","cancelText","confirmText","success","res","confirm","async","uni.showToast","icon","duration","saveFile","updateApp","checkStoreScheme","catch","downloadPackage","finally","storeList","store_list","filter","item","enable","sort","cur","next","priority","map","scheme","reduce","promise","curIndex","Promise","reject","resolve","plus","runtime","openURL","err","uni.downloadFile","statusCode","slice","failCallback","e","log","JSON","stringify","io","resolveLocalFileSystemURL","entry","getParent","parent","newName","Date","now","copyTo","fullPath","downLoadComplete","onProgressUpdate","progress","totalBytesWritten","pow","toFixed","totalBytesExpectedToWrite","createNotificationProgress","content","onClick","finishNotificationProgress","installPackage","restart","uni.setStorageSync","complete","filePath","uni.removeStorageSync","uni.removeSavedFile","jumpToAppStore","_createBlock","_component_v_uni_view","class","_createVNode","_component_v_uni_text","$data","_component_v_uni_image","style","top","width","height","src","_ctx","_component_v_uni_scroll_view","$options","_component_v_uni_button","border","color","plain","_createElementBlock","_Fragment","loading","disabled","_component_v_uni_progress","percent","activeColor","display","_createTextVNode","_toDisplayString","closeUpdate"],"mappings":"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"}