"use strict";const i=require("../../../../common/vendor.js"),r=require("./props.js"),e=require("../../libs/mixin/mpMixin.js"),s=require("../../libs/mixin/mixin.js");require("../../libs/config/props.js"),require("../../libs/config/props/actionSheet.js"),require("../../libs/config/props/album.js"),require("../../libs/config/props/alert.js"),require("../../libs/config/props/avatar.js"),require("../../libs/config/props/avatarGroup.js"),require("../../libs/config/props/backtop.js"),require("../../libs/config/props/badge.js"),require("../../libs/config/props/button.js"),require("../../libs/config/props/calendar.js"),require("../../libs/config/props/carKeyboard.js"),require("../../libs/config/props/cell.js"),require("../../libs/config/props/cellGroup.js"),require("../../libs/config/props/checkbox.js"),require("../../libs/config/props/checkboxGroup.js"),require("../../libs/config/props/circleProgress.js"),require("../../libs/config/props/code.js"),require("../../libs/config/props/codeInput.js"),require("../../libs/config/props/col.js"),require("../../libs/config/props/collapse.js"),require("../../libs/config/props/collapseItem.js"),require("../../libs/config/props/columnNotice.js"),require("../../libs/config/props/countDown.js"),require("../../libs/config/props/countTo.js"),require("../../libs/config/props/datetimePicker.js"),require("../../libs/config/props/divider.js"),require("../../libs/config/props/empty.js"),require("../../libs/config/props/form.js"),require("../../libs/config/props/formItem.js"),require("../../libs/config/props/gap.js"),require("../../libs/config/props/grid.js"),require("../../libs/config/props/gridItem.js"),require("../../libs/config/props/icon.js"),require("../../libs/config/config.js"),require("../../libs/config/props/image.js"),require("../../libs/config/props/indexAnchor.js"),require("../../libs/config/props/indexList.js"),require("../../libs/config/props/input.js"),require("../../libs/config/props/keyboard.js"),require("../../libs/config/props/line.js"),require("../../libs/config/props/lineProgress.js"),require("../../libs/config/props/link.js"),require("../../libs/config/props/list.js"),require("../../libs/config/props/listItem.js"),require("../../libs/config/props/loadingIcon.js"),require("../../libs/config/props/loadingPage.js"),require("../../libs/config/props/loadmore.js"),require("../../libs/config/props/modal.js"),require("../../libs/config/props/navbar.js"),require("../../libs/config/color.js"),require("../../libs/config/props/noNetwork.js"),require("../../libs/config/props/noticeBar.js"),require("../../libs/config/props/notify.js"),require("../../libs/config/props/numberBox.js"),require("../../libs/config/props/numberKeyboard.js"),require("../../libs/config/props/overlay.js"),require("../../libs/config/props/parse.js"),require("../../libs/config/props/picker.js"),require("../../libs/config/props/popup.js"),require("../../libs/config/props/radio.js"),require("../../libs/config/props/radioGroup.js"),require("../../libs/config/props/rate.js"),require("../../libs/config/props/readMore.js"),require("../../libs/config/props/row.js"),require("../../libs/config/props/rowNotice.js"),require("../../libs/config/props/scrollList.js"),require("../../libs/config/props/search.js"),require("../../libs/config/props/section.js"),require("../../libs/config/props/skeleton.js"),require("../../libs/config/props/slider.js"),require("../../libs/config/props/statusBar.js"),require("../../libs/config/props/steps.js"),require("../../libs/config/props/stepsItem.js"),require("../../libs/config/props/sticky.js"),require("../../libs/config/props/subsection.js"),require("../../libs/config/props/swipeAction.js"),require("../../libs/config/props/swipeActionItem.js"),require("../../libs/config/props/swiper.js"),require("../../libs/config/props/swipterIndicator.js"),require("../../libs/config/props/switch.js"),require("../../libs/config/props/tabbar.js"),require("../../libs/config/props/tabbarItem.js"),require("../../libs/config/props/tabs.js"),require("../../libs/config/props/tag.js"),require("../../libs/config/props/text.js"),require("../../libs/config/props/textarea.js"),require("../../libs/config/props/toast.js"),require("../../libs/config/props/toolbar.js"),require("../../libs/config/props/tooltip.js"),require("../../libs/config/props/transition.js"),require("../../libs/config/props/upload.js");const o={name:"u-input",mixins:[e.mpMixin,s.mixin,r.props],data:()=>({innerValue:"",focused:!1,firstChange:!0,changeFromInner:!1,innerFormatter:i=>i}),watch:{modelValue:{immediate:!0,handler(i,r){this.innerValue=i,this.firstChange=!1,this.changeFromInner=!1}}},computed:{isShowClear(){const{clearable:i,readonly:r,focused:e,innerValue:s}=this;return!!i&&!r&&!!e&&""!==s},inputClass(){let i=[],{border:r,disabled:e,shape:s}=this;return"surround"===r&&(i=i.concat(["u-border","u-input--radius"])),i.push(`u-input--${s}`),"bottom"===r&&(i=i.concat(["u-border-bottom","u-input--no-radius"])),i.join(" ")},wrapperStyle(){const r={};return this.disabled&&(r.backgroundColor=this.disabledColor),"none"===this.border?r.padding="0":(r.paddingTop="6px",r.paddingBottom="6px",r.paddingLeft="9px",r.paddingRight="9px"),i.index.$u.deepMerge(r,i.index.$u.addStyle(this.customStyle))},inputStyle(){return{color:this.color,fontSize:i.index.$u.addUnit(this.fontSize),textAlign:this.inputAlign}}},emits:["update:modelValue","focus","blur","change","confirm","clear","keyboardheightchange"],methods:{setFormatter(i){this.innerFormatter=i},onInput(i){let{value:r=""}=i.detail||{};const e=(this.formatter||this.innerFormatter)(r);this.innerValue=r,this.$nextTick((()=>{this.innerValue=e,this.valueChange()}))},onBlur(r){this.$emit("blur",r.detail.value),i.index.$u.sleep(150).then((()=>{this.focused=!1})),i.index.$u.formValidate(this,"blur")},onFocus(i){this.focused=!0,this.$emit("focus")},onConfirm(i){this.$emit("confirm",this.innerValue)},onkeyboardheightchange(i){this.$emit("keyboardheightchange",i)},valueChange(){const r=this.innerValue;this.$nextTick((()=>{this.$emit("update:modelValue",r),this.changeFromInner=!0,this.$emit("change",r),i.index.$u.formValidate(this,"change")}))},onClear(){this.innerValue="",this.$nextTick((()=>{this.valueChange(),this.$emit("clear")}))},clickHandler(){}}};if(!Array){i.resolveComponent("u-icon")()}Math;const n=i._export_sfc(o,[["render",function(r,e,s,o,n,p){return i.e({a:r.prefixIcon||r.$slots.prefix},r.prefixIcon||r.$slots.prefix?{b:i.p({name:r.prefixIcon,size:"18",customStyle:r.prefixIconStyle})}:{},{c:i.s(p.inputStyle),d:r.type,e:r.focus,f:r.cursor,g:n.innerValue,h:r.autoBlur,i:r.disabled||r.readonly,j:r.maxlength,k:r.placeholder,l:r.placeholderStyle,m:r.placeholderClass,n:r.confirmType,o:r.confirmHold,p:r.holdKeyboard,q:r.cursorSpacing,r:r.adjustPosition,s:r.selectionEnd,t:r.selectionStart,v:r.password||"password"===r.type||void 0,w:r.ignoreCompositionEvent,x:i.o(((...i)=>p.onInput&&p.onInput(...i))),y:i.o(((...i)=>p.onBlur&&p.onBlur(...i))),z:i.o(((...i)=>p.onFocus&&p.onFocus(...i))),A:i.o(((...i)=>p.onConfirm&&p.onConfirm(...i))),B:i.o(((...i)=>p.onkeyboardheightchange&&p.onkeyboardheightchange(...i))),C:i.o(((...i)=>p.onInput&&p.onInput(...i))),D:i.o(((...i)=>p.clickHandler&&p.clickHandler(...i))),E:p.isShowClear},p.isShowClear?{F:i.p({name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"}),G:i.o(((...i)=>p.onClear&&p.onClear(...i)))}:{},{H:r.suffixIcon||r.$slots.suffix},r.suffixIcon||r.$slots.suffix?{I:i.p({name:r.suffixIcon,size:"18",customStyle:r.suffixIconStyle})}:{},{J:i.n(p.inputClass),K:i.s(p.wrapperStyle)})}],["__scopeId","data-v-49c39d96"]]);wx.createComponent(n);
