"use strict";const e=require("../../common/vendor.js"),u=require("../../stores/userStore.js"),i=require("../../api/post.js");if(require("../../utils/request.js"),require("../../uni_modules/uview-plus/index.js"),require("../../uni_modules/uview-plus/libs/mixin/mixin.js"),require("../../uni_modules/uview-plus/libs/mixin/mpMixin.js"),require("../../uni_modules/uview-plus/libs/luch-request/core/Request.js"),require("../../uni_modules/uview-plus/libs/luch-request/core/dispatchRequest.js"),require("../../uni_modules/uview-plus/libs/luch-request/adapters/index.js"),require("../../uni_modules/uview-plus/libs/luch-request/helpers/buildURL.js"),require("../../uni_modules/uview-plus/libs/luch-request/utils.js"),require("../../uni_modules/uview-plus/libs/luch-request/core/buildFullPath.js"),require("../../uni_modules/uview-plus/libs/luch-request/helpers/isAbsoluteURL.js"),require("../../uni_modules/uview-plus/libs/luch-request/helpers/combineURLs.js"),require("../../uni_modules/uview-plus/libs/luch-request/core/settle.js"),require("../../uni_modules/uview-plus/libs/luch-request/core/InterceptorManager.js"),require("../../uni_modules/uview-plus/libs/luch-request/core/mergeConfig.js"),require("../../uni_modules/uview-plus/libs/luch-request/core/defaults.js"),require("../../uni_modules/uview-plus/libs/luch-request/utils/clone.js"),require("../../uni_modules/uview-plus/libs/util/route.js"),require("../../uni_modules/uview-plus/libs/function/colorGradient.js"),require("../../uni_modules/uview-plus/libs/function/test.js"),require("../../uni_modules/uview-plus/libs/function/debounce.js"),require("../../uni_modules/uview-plus/libs/function/throttle.js"),require("../../uni_modules/uview-plus/libs/function/index.js"),require("../../uni_modules/uview-plus/libs/function/digit.js"),require("../../uni_modules/uview-plus/libs/config/config.js"),require("../../uni_modules/uview-plus/libs/config/props.js"),require("../../uni_modules/uview-plus/libs/config/props/actionSheet.js"),require("../../uni_modules/uview-plus/libs/config/props/album.js"),require("../../uni_modules/uview-plus/libs/config/props/alert.js"),require("../../uni_modules/uview-plus/libs/config/props/avatar.js"),require("../../uni_modules/uview-plus/libs/config/props/avatarGroup.js"),require("../../uni_modules/uview-plus/libs/config/props/backtop.js"),require("../../uni_modules/uview-plus/libs/config/props/badge.js"),require("../../uni_modules/uview-plus/libs/config/props/button.js"),require("../../uni_modules/uview-plus/libs/config/props/calendar.js"),require("../../uni_modules/uview-plus/libs/config/props/carKeyboard.js"),require("../../uni_modules/uview-plus/libs/config/props/cell.js"),require("../../uni_modules/uview-plus/libs/config/props/cellGroup.js"),require("../../uni_modules/uview-plus/libs/config/props/checkbox.js"),require("../../uni_modules/uview-plus/libs/config/props/checkboxGroup.js"),require("../../uni_modules/uview-plus/libs/config/props/circleProgress.js"),require("../../uni_modules/uview-plus/libs/config/props/code.js"),require("../../uni_modules/uview-plus/libs/config/props/codeInput.js"),require("../../uni_modules/uview-plus/libs/config/props/col.js"),require("../../uni_modules/uview-plus/libs/config/props/collapse.js"),require("../../uni_modules/uview-plus/libs/config/props/collapseItem.js"),require("../../uni_modules/uview-plus/libs/config/props/columnNotice.js"),require("../../uni_modules/uview-plus/libs/config/props/countDown.js"),require("../../uni_modules/uview-plus/libs/config/props/countTo.js"),require("../../uni_modules/uview-plus/libs/config/props/datetimePicker.js"),require("../../uni_modules/uview-plus/libs/config/props/divider.js"),require("../../uni_modules/uview-plus/libs/config/props/empty.js"),require("../../uni_modules/uview-plus/libs/config/props/form.js"),require("../../uni_modules/uview-plus/libs/config/props/formItem.js"),require("../../uni_modules/uview-plus/libs/config/props/gap.js"),require("../../uni_modules/uview-plus/libs/config/props/grid.js"),require("../../uni_modules/uview-plus/libs/config/props/gridItem.js"),require("../../uni_modules/uview-plus/libs/config/props/icon.js"),require("../../uni_modules/uview-plus/libs/config/props/image.js"),require("../../uni_modules/uview-plus/libs/config/props/indexAnchor.js"),require("../../uni_modules/uview-plus/libs/config/props/indexList.js"),require("../../uni_modules/uview-plus/libs/config/props/input.js"),require("../../uni_modules/uview-plus/libs/config/props/keyboard.js"),require("../../uni_modules/uview-plus/libs/config/props/line.js"),require("../../uni_modules/uview-plus/libs/config/props/lineProgress.js"),require("../../uni_modules/uview-plus/libs/config/props/link.js"),require("../../uni_modules/uview-plus/libs/config/props/list.js"),require("../../uni_modules/uview-plus/libs/config/props/listItem.js"),require("../../uni_modules/uview-plus/libs/config/props/loadingIcon.js"),require("../../uni_modules/uview-plus/libs/config/props/loadingPage.js"),require("../../uni_modules/uview-plus/libs/config/props/loadmore.js"),require("../../uni_modules/uview-plus/libs/config/props/modal.js"),require("../../uni_modules/uview-plus/libs/config/props/navbar.js"),require("../../uni_modules/uview-plus/libs/config/color.js"),require("../../uni_modules/uview-plus/libs/config/props/noNetwork.js"),require("../../uni_modules/uview-plus/libs/config/props/noticeBar.js"),require("../../uni_modules/uview-plus/libs/config/props/notify.js"),require("../../uni_modules/uview-plus/libs/config/props/numberBox.js"),require("../../uni_modules/uview-plus/libs/config/props/numberKeyboard.js"),require("../../uni_modules/uview-plus/libs/config/props/overlay.js"),require("../../uni_modules/uview-plus/libs/config/props/parse.js"),require("../../uni_modules/uview-plus/libs/config/props/picker.js"),require("../../uni_modules/uview-plus/libs/config/props/popup.js"),require("../../uni_modules/uview-plus/libs/config/props/radio.js"),require("../../uni_modules/uview-plus/libs/config/props/radioGroup.js"),require("../../uni_modules/uview-plus/libs/config/props/rate.js"),require("../../uni_modules/uview-plus/libs/config/props/readMore.js"),require("../../uni_modules/uview-plus/libs/config/props/row.js"),require("../../uni_modules/uview-plus/libs/config/props/rowNotice.js"),require("../../uni_modules/uview-plus/libs/config/props/scrollList.js"),require("../../uni_modules/uview-plus/libs/config/props/search.js"),require("../../uni_modules/uview-plus/libs/config/props/section.js"),require("../../uni_modules/uview-plus/libs/config/props/skeleton.js"),require("../../uni_modules/uview-plus/libs/config/props/slider.js"),require("../../uni_modules/uview-plus/libs/config/props/statusBar.js"),require("../../uni_modules/uview-plus/libs/config/props/steps.js"),require("../../uni_modules/uview-plus/libs/config/props/stepsItem.js"),require("../../uni_modules/uview-plus/libs/config/props/sticky.js"),require("../../uni_modules/uview-plus/libs/config/props/subsection.js"),require("../../uni_modules/uview-plus/libs/config/props/swipeAction.js"),require("../../uni_modules/uview-plus/libs/config/props/swipeActionItem.js"),require("../../uni_modules/uview-plus/libs/config/props/swiper.js"),require("../../uni_modules/uview-plus/libs/config/props/swipterIndicator.js"),require("../../uni_modules/uview-plus/libs/config/props/switch.js"),require("../../uni_modules/uview-plus/libs/config/props/tabbar.js"),require("../../uni_modules/uview-plus/libs/config/props/tabbarItem.js"),require("../../uni_modules/uview-plus/libs/config/props/tabs.js"),require("../../uni_modules/uview-plus/libs/config/props/tag.js"),require("../../uni_modules/uview-plus/libs/config/props/text.js"),require("../../uni_modules/uview-plus/libs/config/props/textarea.js"),require("../../uni_modules/uview-plus/libs/config/props/toast.js"),require("../../uni_modules/uview-plus/libs/config/props/toolbar.js"),require("../../uni_modules/uview-plus/libs/config/props/tooltip.js"),require("../../uni_modules/uview-plus/libs/config/props/transition.js"),require("../../uni_modules/uview-plus/libs/config/props/upload.js"),require("../../uni_modules/uview-plus/libs/config/zIndex.js"),require("../../uni_modules/uview-plus/libs/function/platform.js"),!Array){e.resolveComponent("u-icon")()}Math;const s={__name:"ArticleWarp",setup(s){u.useUserStore().getUserData;const r=e.ref([]),l=e.ref([]),o=(e,u)=>{e.forEach((e=>{const i={postid:e._id,popular:e.popular,sticky:e.sticky,featured:e.featured,title:e.title,content:e.summary,img_url:e.images,usertx:e.authorDetails.avatar,nickname:e.authorDetails.username,update_time_ago:"Just now",view:parseInt(e.views)||0,thumbs:parseInt(e.like)||0,comment:e.comments.length||0};i.sticky?u.unshift(i):u.push(i)}))};return e.onMounted((()=>{i.getPostList().then((e=>{r.value=e.data,o(r.value,l.value)}))})),(u,i)=>e.e({a:l.value.length>0},l.value.length>0?{b:e.f(l.value,((u,i,s)=>{return e.e({a:1==u.popular},(u.popular,{}),{b:1==u.sticky},(u.sticky,{}),{c:1==u.featured},(u.featured,{}),{d:e.t(u.title),e:e.t((l=u.content,l=(l=(l=(l=l.replace(/<[^<>]+>/g,"")).replace(/&nbsp;/gi,"")).replace(/<img*>/gi,"")).replace(/<video*>/gi,""))),f:u.img_url.length>0},u.img_url.length>0?{g:e.f(u.img_url.slice(0,3),((e,u,i)=>({a:u,b:e})))}:{},{h:u.video_url},u.video_url?{i:u.video_url}:{},{j:u.usertx,k:e.t((r=u.nickname,r.length>5?r.substring(0,5)+"...":r)),l:e.t(u.update_time_ago),m:"02bcc109-0-"+s,n:e.t(u.view),o:"02bcc109-1-"+s,p:e.t(u.thumbs),q:"02bcc109-2-"+s,r:e.t(u.comment),s:i,t:e.o((i=>{return s=u.postid,void e.index.navigateTo({url:"/pages/article/article?id="+s});var s}),i)});var r,l})),c:e.p({name:"eye-fill",color:"#666",size:"15"}),d:e.p({name:"thumb-up-fill",color:"#666",size:"15"}),e:e.p({name:"more-circle-fill",color:"#666",size:"15"})}:{})}},r=e._export_sfc(s,[["__scopeId","data-v-02bcc109"]]);wx.createComponent(r);
