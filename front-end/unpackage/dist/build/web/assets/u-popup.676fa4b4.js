import{_ as e}from"./u-transition.c5fa413b.js";import{d as t,m as o,a as s,j as a,o as i,b as n,w as l,r,p as u,n as p,i as d,I as c,e as m,a3 as y}from"./index-b4edc82c.js";import{r as f}from"./uni-app.es.370d9c9e.js";import{_ as h}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as b}from"./u-status-bar.ced27262.js";import{_ as v}from"./u-icon.9d2312a5.js";const g=h({name:"u-overlay",mixins:[o,s,{props:{show:{type:Boolean,default:t.overlay.show},zIndex:{type:[String,Number],default:t.overlay.zIndex},duration:{type:[String,Number],default:t.overlay.duration},opacity:{type:[String,Number],default:t.overlay.opacity}}}],computed:{overlayStyle(){const e={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":`rgba(0, 0, 0, ${this.opacity})`};return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},emits:["click"],methods:{clickHandler(){this.$emit("click")}}},[["render",function(t,o,s,u,p,d){const c=f(a("u-transition"),e);return i(),n(c,{show:t.show,"custom-class":"u-overlay",duration:t.duration,"custom-style":d.overlayStyle,onClick:d.clickHandler},{default:l((()=>[r(t.$slots,"default",{},void 0,!0)])),_:3},8,["show","duration","custom-style","onClick"])}],["__scopeId","data-v-82a76b03"]]);const _=h({name:"u-safe-bottom",mixins:[o,s,{props:{}}],data:()=>({safeAreaBottomHeight:0,isNvue:!1}),computed:{style(){return uni.$u.deepMerge({},uni.$u.addStyle(this.customStyle))}},mounted(){}},[["render",function(e,t,o,s,a,l){const r=d;return i(),n(r,{class:u(["u-safe-bottom",[!a.isNvue&&"u-safe-area-inset-bottom"]]),style:p([l.style])},null,8,["style","class"])}],["__scopeId","data-v-3dbbff38"]]);const k=h({name:"u-popup",mixins:[o,s,{props:{show:{type:Boolean,default:t.popup.show},overlay:{type:Boolean,default:t.popup.overlay},mode:{type:String,default:t.popup.mode},duration:{type:[String,Number],default:t.popup.duration},closeable:{type:Boolean,default:t.popup.closeable},overlayStyle:{type:[Object,String],default:t.popup.overlayStyle},closeOnClickOverlay:{type:Boolean,default:t.popup.closeOnClickOverlay},zIndex:{type:[String,Number],default:t.popup.zIndex},safeAreaInsetBottom:{type:Boolean,default:t.popup.safeAreaInsetBottom},safeAreaInsetTop:{type:Boolean,default:t.popup.safeAreaInsetTop},closeIconPos:{type:String,default:t.popup.closeIconPos},round:{type:[Boolean,String,Number],default:t.popup.round},zoom:{type:Boolean,default:t.popup.zoom},bgColor:{type:String,default:t.popup.bgColor},overlayOpacity:{type:[Number,String],default:t.popup.overlayOpacity}}}],data(){return{overlayDuration:this.duration+50}},watch:{show(e,t){}},computed:{transitionStyle(){const e={zIndex:this.zIndex,position:"fixed",display:"flex"};return e[this.mode]=0,"left"===this.mode||"right"===this.mode?uni.$u.deepMerge(e,{bottom:0,top:0}):"top"===this.mode||"bottom"===this.mode?uni.$u.deepMerge(e,{left:0,right:0}):"center"===this.mode?uni.$u.deepMerge(e,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0}):void 0},contentStyle(){const e={};if(uni.$u.sys(),"center"!==this.mode&&(e.flex=1),this.bgColor&&(e.backgroundColor=this.bgColor),this.round){const t=uni.$u.addUnit(this.round);"top"===this.mode?(e.borderBottomLeftRadius=t,e.borderBottomRightRadius=t):"bottom"===this.mode?(e.borderTopLeftRadius=t,e.borderTopRightRadius=t):"center"===this.mode&&(e.borderRadius=t)}return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},position(){return"center"===this.mode?this.zoom?"fade-zoom":"fade":"left"===this.mode?"slide-left":"right"===this.mode?"slide-right":"bottom"===this.mode?"slide-up":"top"===this.mode?"slide-down":void 0}},emits:["open","close","click"],methods:{overlayClick(){this.closeOnClickOverlay&&this.$emit("close")},close(e){this.$emit("close")},afterEnter(){this.$emit("open")},clickHandler(){"center"===this.mode&&this.overlayClick(),this.$emit("click")}}},[["render",function(t,o,s,h,k,S){const I=f(a("u-overlay"),g),C=f(a("u-status-bar"),b),x=f(a("u-icon"),v),$=d,w=f(a("u-safe-bottom"),_),B=f(a("u-transition"),e);return i(),n($,{class:"u-popup"},{default:l((()=>[t.overlay?(i(),n(I,{key:0,show:t.show,onClick:S.overlayClick,duration:k.overlayDuration,customStyle:t.overlayStyle,opacity:t.overlayOpacity},null,8,["show","onClick","duration","customStyle","opacity"])):c("",!0),m(B,{show:t.show,customStyle:S.transitionStyle,mode:S.position,duration:t.duration,onAfterEnter:S.afterEnter,onClick:S.clickHandler},{default:l((()=>[m($,{class:"u-popup__content",style:p([S.contentStyle]),onClick:y(t.noop,["stop"])},{default:l((()=>[t.safeAreaInsetTop?(i(),n(C,{key:0})):c("",!0),r(t.$slots,"default",{},void 0,!0),t.closeable?(i(),n($,{key:1,onClick:y(S.close,["stop"]),class:u(["u-popup__content__close",["u-popup__content__close--"+t.closeIconPos]]),"hover-class":"u-popup__content__close--hover","hover-stay-time":"150"},{default:l((()=>[m(x,{name:"close",color:"#909399",size:"18",bold:""})])),_:1},8,["onClick","class"])):c("",!0),t.safeAreaInsetBottom?(i(),n(w,{key:2})):c("",!0)])),_:3},8,["style","onClick"])])),_:3},8,["show","customStyle","mode","duration","onAfterEnter","onClick"])])),_:3})}],["__scopeId","data-v-27ba5882"]]);export{k as _};
