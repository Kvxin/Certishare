import{g as a,af as s,h as e,o as t,b as l,w as r,e as o,y as n,k as c,F as i,l as u,n as d,v as p,A as f,$ as h,i as m,S as v,B as _,C as g,K as j,q as y,t as C,u as x,U as b,j as k}from"./index-b4edc82c.js";import{_ as S}from"./u-search.7c85f57a.js";import{a as I,r as w}from"./uni-app.es.370d9c9e.js";import{_ as q}from"./uni-nav-bar.cac3dca4.js";import{a as D}from"./search.b14444a7.js";import"./request.5e8d59d2.js";import{s as N,C as R}from"./Card.d0e0c0ce.js";import{_ as O}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.9d2312a5.js";import"./uni-icons.ec5d01d1.js";import"./u-image.f2d47922.js";import"./u-loading-icon.c59f05cd.js";import"./u-transition.c5fa413b.js";const T=O({__name:"SearchResultCardWarp",props:{cardsDatas:Object},setup(j){a([]);const y=a([]),C=a([]),x=a(1e3);N().getSystemNav;const b=j;let k=g();function S(){y.value=[],C.value=[],b.cardsDatas.forEach(((a,s)=>{s%2==0?y.value.push(a):C.value.push(a)}))}const I=a=>{p({url:`/pages/card-info/card-info?id=${a}`})},w=()=>{f().in(k).select(".card-warp").boundingClientRect((a=>{let s=JSON.parse(JSON.stringify(a));x.value=s.height})).exec()};s((()=>{S(),setTimeout((()=>{w()}))}));const q=a=>{const s=a.detail.current;h("changeNav",s)};return e((async()=>{S(),setTimeout((()=>{w()}))})),(a,s)=>{const e=m,p=v,f=_;return t(),l(f,{style:d({height:x.value+150+"px"}),onChange:q},{default:r((()=>[o(p,null,{default:r((()=>[o(e,{class:"card-warp"},{default:r((()=>[n("div",{class:"card-left"},[(t(!0),c(i,null,u(y.value,((a,s)=>(t(),l(R,{key:a.id,cardInfo:a,onClick:s=>I(a._id)},null,8,["cardInfo","onClick"])))),128))]),n("div",{class:"card-right"},[(t(!0),c(i,null,u(C.value,((a,s)=>(t(),l(R,{key:a.id,cardInfo:a,onClick:s=>I(a._id)},null,8,["cardInfo","onClick"])))),128))])])),_:1})])),_:1})])),_:1},8,["style"])}}},[["__scopeId","data-v-21419708"]]),V=O({__name:"search-result",setup(s){const e=a(""),n=a([]),c=j((()=>`获取到了${n.value.length}条数据`)),i=()=>{b()};return I((a=>{e.value=a.searchKey,(async a=>{D(a).then((a=>{n.value=a.data}))})(e.value)})),(a,s)=>{const u=w(k("u-search"),S),d=m,p=w(k("uni-nav-bar"),q);return t(),l(d,{class:"search-result-input"},{default:r((()=>[o(p,{fixed:!0,shadow:"","status-bar":"","left-icon":"left","left-text":"返回","right-text":"搜索","right-width":"30px",onClickLeft:i,onClickRight:a.search,height:"65px",class:"nav-bar",border:!1,gradientColors:["#ff9a9e","#fad0c4"]},{default:r((()=>[o(d,{class:"search-box"},{default:r((()=>[o(u,{placeholder:"点击进行搜索",shape:"square",clearabled:!0,actionText:"",actionStyle:a.actionStyle,modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value=a)},null,8,["actionStyle","modelValue"])])),_:1})])),_:1},8,["onClickRight"]),o(d,{class:"search-result-data"},{default:r((()=>[y(C(c.value),1)])),_:1}),o(x(T),{cardsDatas:n.value},null,8,["cardsDatas"])])),_:1})}}},[["__scopeId","data-v-85c85fda"]]);export{V as default};
